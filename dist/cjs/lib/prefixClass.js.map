{"version":3,"file":"prefixClass.js","names":["hasTransformable","noConflictCache","legacyCache","prefixSingle","scopedStyle","noConflict","classScopingMode","cache","prefixed","replace","resolved","prefixClass","i","length","separator"],"sources":["../../../src/lib/prefixClass.ts"],"sourcesContent":["import { classScopingMode } from \"./classScopingMode\";\n\nconst hasTransformable = /\\b(?=[A-Z])/g;\nconst noConflictCache: any = {};\nconst legacyCache: any = {};\nfunction prefixSingle(scopedStyle: string): string {\n  const { noConflict } = classScopingMode;\n  const cache = noConflict ? noConflictCache : legacyCache;\n  if (cache[scopedStyle]) {\n    return cache[scopedStyle];\n  }\n  const prefixed = scopedStyle.replace(hasTransformable, \"vkui\");\n  const resolved =\n    noConflict || scopedStyle === prefixed\n      ? prefixed\n      : prefixed + \" \" + scopedStyle;\n  cache[scopedStyle] = resolved;\n  return resolved;\n}\n\nexport function prefixClass(scopedStyle: string | string[]) {\n  if (typeof scopedStyle === \"string\") {\n    return prefixSingle(scopedStyle);\n  }\n\n  let resolved = \"\";\n  for (let i = 0; i < scopedStyle.length; i++) {\n    const separator = resolved ? \" \" : \"\";\n\n    resolved += separator + prefixSingle(scopedStyle[i]);\n  }\n\n  return resolved;\n}\n"],"mappings":";;;;;;AAAA;AAEA,IAAMA,gBAAgB,GAAG,cAAc;AACvC,IAAMC,eAAoB,GAAG,CAAC,CAAC;AAC/B,IAAMC,WAAgB,GAAG,CAAC,CAAC;AAC3B,SAASC,YAAY,CAACC,WAAmB,EAAU;EACjD,IAAQC,UAAU,GAAKC,kCAAgB,CAA/BD,UAAU;EAClB,IAAME,KAAK,GAAGF,UAAU,GAAGJ,eAAe,GAAGC,WAAW;EACxD,IAAIK,KAAK,CAACH,WAAW,CAAC,EAAE;IACtB,OAAOG,KAAK,CAACH,WAAW,CAAC;EAC3B;EACA,IAAMI,QAAQ,GAAGJ,WAAW,CAACK,OAAO,CAACT,gBAAgB,EAAE,MAAM,CAAC;EAC9D,IAAMU,QAAQ,GACZL,UAAU,IAAID,WAAW,KAAKI,QAAQ,GAClCA,QAAQ,GACRA,QAAQ,GAAG,GAAG,GAAGJ,WAAW;EAClCG,KAAK,CAACH,WAAW,CAAC,GAAGM,QAAQ;EAC7B,OAAOA,QAAQ;AACjB;AAEO,SAASC,WAAW,CAACP,WAA8B,EAAE;EAC1D,IAAI,OAAOA,WAAW,KAAK,QAAQ,EAAE;IACnC,OAAOD,YAAY,CAACC,WAAW,CAAC;EAClC;EAEA,IAAIM,QAAQ,GAAG,EAAE;EACjB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,WAAW,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3C,IAAME,SAAS,GAAGJ,QAAQ,GAAG,GAAG,GAAG,EAAE;IAErCA,QAAQ,IAAII,SAAS,GAAGX,YAAY,CAACC,WAAW,CAACQ,CAAC,CAAC,CAAC;EACtD;EAEA,OAAOF,QAAQ;AACjB"}