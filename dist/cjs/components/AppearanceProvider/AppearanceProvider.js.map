{"version":3,"file":"AppearanceProvider.js","names":["generateVKUITokensClassName","platform","appearance","tokensPlatform","Platform","ANDROID","IOS","VKCOM","AppearanceProvider","children","usePlatform","scheme","getScheme","React","Children","map","child","isValidElement","cloneElement","className","classNamesString","props"],"sources":["../../../../src/components/AppearanceProvider/AppearanceProvider.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { AppearanceType } from \"@vkontakte/vk-bridge\";\nimport { AppearanceProviderContext } from \"./AppearanceProviderContext\";\nimport { getScheme } from \"../../helpers/getScheme\";\nimport { classNamesString } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Platform } from \"../../lib/platform\";\n\nexport interface AppearanceProviderProps {\n  appearance?: AppearanceType;\n  children?: React.ReactNode;\n}\n\nexport const generateVKUITokensClassName = (\n  platform: string,\n  appearance: string\n): string => {\n  let tokensPlatform;\n  switch (platform) {\n    case Platform.ANDROID:\n      tokensPlatform = \"vkBase\";\n      break;\n    case Platform.IOS:\n      tokensPlatform = \"vkIOS\";\n      break;\n    case Platform.VKCOM:\n      tokensPlatform = \"vkCom\";\n      break;\n    default:\n      tokensPlatform = platform;\n  }\n\n  return `vkui--${tokensPlatform}--${appearance}`;\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AppearanceProvider\n */\nexport const AppearanceProvider = ({\n  children,\n  appearance = \"light\",\n}: AppearanceProviderProps) => {\n  const platform = usePlatform();\n  const scheme = getScheme({\n    platform,\n    appearance,\n  });\n\n  return (\n    <AppearanceProviderContext.Provider value={appearance}>\n      {React.Children.map(children, (child) => {\n        if (React.isValidElement(child)) {\n          return React.cloneElement(child, {\n            className: classNamesString(\n              child.props.className,\n              `vkui${scheme}`,\n              generateVKUITokensClassName(platform, appearance)\n            ),\n          });\n        }\n        return child;\n      })}\n    </AppearanceProviderContext.Provider>\n  );\n};\n"],"mappings":";;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AAOO,IAAMA,2BAA2B,GAAG,SAA9BA,2BAA2B,CACtCC,QAAgB,EAChBC,UAAkB,EACP;EACX,IAAIC,cAAc;EAClB,QAAQF,QAAQ;IACd,KAAKG,kBAAQ,CAACC,OAAO;MACnBF,cAAc,GAAG,QAAQ;MACzB;IACF,KAAKC,kBAAQ,CAACE,GAAG;MACfH,cAAc,GAAG,OAAO;MACxB;IACF,KAAKC,kBAAQ,CAACG,KAAK;MACjBJ,cAAc,GAAG,OAAO;MACxB;IACF;MACEA,cAAc,GAAGF,QAAQ;EAAC;EAG9B,uBAAgBE,cAAc,eAAKD,UAAU;AAC/C,CAAC;;AAED;AACA;AACA;AAFA;AAGO,IAAMM,kBAAkB,GAAG,SAArBA,kBAAkB,OAGA;EAAA,IAF7BC,QAAQ,QAARA,QAAQ;IAAA,uBACRP,UAAU;IAAVA,UAAU,gCAAG,OAAO;EAEpB,IAAMD,QAAQ,GAAG,IAAAS,wBAAW,GAAE;EAC9B,IAAMC,MAAM,GAAG,IAAAC,oBAAS,EAAC;IACvBX,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA;EACF,CAAC,CAAC;EAEF,OACE,qCAAC,oDAAyB,CAAC,QAAQ;IAAC,KAAK,EAAEA;EAAW,GACnDW,KAAK,CAACC,QAAQ,CAACC,GAAG,CAACN,QAAQ,EAAE,UAACO,KAAK,EAAK;IACvC,kBAAIH,KAAK,CAACI,cAAc,CAACD,KAAK,CAAC,EAAE;MAC/B,oBAAOH,KAAK,CAACK,YAAY,CAACF,KAAK,EAAE;QAC/BG,SAAS,EAAE,IAAAC,4BAAgB,EACzBJ,KAAK,CAACK,KAAK,CAACF,SAAS,gBACdR,MAAM,GACbX,2BAA2B,CAACC,QAAQ,EAAEC,UAAU,CAAC;MAErD,CAAC,CAAC;IACJ;IACA,OAAOc,KAAK;EACd,CAAC,CAAC,CACiC;AAEzC,CAAC;AAAC"}