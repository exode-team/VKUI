{"version":3,"file":"WriteBarIcon.js","names":["warn","warnOnce","IS_DEV","process","env","NODE_ENV","WriteBarIcon","mode","children","count","restProps","platform","usePlatform","icon","ariaLabel","undefined","IOS","classNames","Platform","hasReactNode"],"sources":["../../../../src/components/WriteBarIcon/WriteBarIcon.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  Icon24Send,\n  Icon28AddCircleOutline,\n  Icon28AttachOutline,\n  Icon28CheckCircleOutline,\n  Icon48WritebarDone,\n  Icon48WritebarSend,\n} from \"@vkontakte/icons\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { classNames } from \"../../lib/classNames\";\nimport { IOS, Platform } from \"../../lib/platform\";\nimport { Counter } from \"../Counter/Counter\";\nimport { Tappable } from \"../Tappable/Tappable\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport \"./WriteBarIcon.css\";\n\nexport interface WriteBarIconProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Предустановленные типы кнопок в WriteBar для отрисовки иконки в зависимости от платформы.\n   * Если передать валидное значение для этого свойства, `children` игнорируется.\n   *\n   * - `attach` – иконка прикрепления.\n   * - `send` – иконка отправки.\n   * - `done` – иконка отправки в режиме редактирования.\n   */\n  mode?: \"attach\" | \"send\" | \"done\";\n  /**\n   * Значение счётчика для кнопки. Например, для количества прикреплённых файлов.\n   */\n  count?: number;\n}\n\nconst warn = warnOnce(\"WriteBarIcon\");\nconst IS_DEV = process.env.NODE_ENV === \"development\";\n\n/**\n * @see https://vkcom.github.io/VKUI/#/WriteBarIcon\n */\nexport const WriteBarIcon = ({\n  mode,\n  children,\n  count,\n  ...restProps\n}: WriteBarIconProps) => {\n  const platform = usePlatform();\n\n  let icon: React.ReactNode;\n  let ariaLabel: string | undefined = undefined;\n\n  switch (mode) {\n    case \"attach\":\n      icon =\n        platform === IOS ? (\n          <Icon28AddCircleOutline aria-hidden />\n        ) : (\n          <Icon28AttachOutline aria-hidden />\n        );\n      ariaLabel = \"Прикрепить файл\";\n      break;\n\n    case \"send\":\n      icon =\n        platform === IOS ? (\n          <Icon48WritebarSend aria-hidden />\n        ) : (\n          <Icon24Send aria-hidden />\n        );\n      ariaLabel = \"Отправить\";\n      break;\n\n    case \"done\":\n      icon =\n        platform === IOS ? (\n          <Icon48WritebarDone aria-hidden />\n        ) : (\n          <Icon28CheckCircleOutline aria-hidden />\n        );\n      ariaLabel = \"Готово\";\n      break;\n\n    default:\n      break;\n  }\n\n  if (IS_DEV && !restProps[\"aria-label\"] && !ariaLabel) {\n    warn(\n      \"a11y: У WriteBarIcon нет aria-label. Кнопка будет недоступной для части пользователей.\",\n      \"error\"\n    );\n  }\n\n  return (\n    <Tappable\n      aria-label={ariaLabel}\n      {...restProps}\n      Component=\"button\"\n      hasHover={false}\n      activeMode=\"WriteBarIcon__active\"\n      vkuiClass={classNames(\n        \"WriteBarIcon\",\n        platform === Platform.IOS && \"WriteBarIcon--ios\",\n        !!mode && `WriteBarIcon--${mode}`\n      )}\n    >\n      <span vkuiClass=\"WriteBarIcon__in\">\n        {icon || children}\n        {hasReactNode(count) && (\n          <Counter vkuiClass=\"WriteBarIcon__counter\" size=\"s\">\n            {count}\n          </Counter>\n        )}\n      </span>\n    </Tappable>\n  );\n};\n"],"mappings":";;;;;;;;;;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAA+C;AAoB/C,IAAMA,IAAI,GAAG,IAAAC,kBAAQ,EAAC,cAAc,CAAC;AACrC,IAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;;AAErD;AACA;AACA;AACO,IAAMC,YAAY,GAAG,SAAfA,YAAY,OAKA;EAAA,IAJvBC,IAAI,QAAJA,IAAI;IACJC,QAAQ,QAARA,QAAQ;IACRC,KAAK,QAALA,KAAK;IACFC,SAAS;EAEZ,IAAMC,QAAQ,GAAG,IAAAC,wBAAW,GAAE;EAE9B,IAAIC,IAAqB;EACzB,IAAIC,SAA6B,GAAGC,SAAS;EAE7C,QAAQR,IAAI;IACV,KAAK,QAAQ;MACXM,IAAI,GACFF,QAAQ,KAAKK,aAAG,GACd,qCAAC,6BAAsB;QAAC;MAAW,EAAG,GAEtC,qCAAC,0BAAmB;QAAC;MAAW,EACjC;MACHF,SAAS,GAAG,iBAAiB;MAC7B;IAEF,KAAK,MAAM;MACTD,IAAI,GACFF,QAAQ,KAAKK,aAAG,GACd,qCAAC,yBAAkB;QAAC;MAAW,EAAG,GAElC,qCAAC,iBAAU;QAAC;MAAW,EACxB;MACHF,SAAS,GAAG,WAAW;MACvB;IAEF,KAAK,MAAM;MACTD,IAAI,GACFF,QAAQ,KAAKK,aAAG,GACd,qCAAC,yBAAkB;QAAC;MAAW,EAAG,GAElC,qCAAC,+BAAwB;QAAC;MAAW,EACtC;MACHF,SAAS,GAAG,QAAQ;MACpB;IAEF;MACE;EAAM;EAGV,IAAIZ,MAAM,IAAI,CAACQ,SAAS,CAAC,YAAY,CAAC,IAAI,CAACI,SAAS,EAAE;IACpDd,IAAI,CACF,wFAAwF,EACxF,OAAO,CACR;EACH;EAEA,OACE,qCAAC,kBAAQ;IACP,cAAYc;EAAU,GAClBJ,SAAS;IACb,SAAS,EAAC,QAAQ;IAClB,QAAQ,EAAE,KAAM;IAChB,UAAU,EAAC,sBAAsB;IACjC,SAAS,EAAE,IAAAO,sBAAU,EACnB,cAAc,EACdN,QAAQ,KAAKO,kBAAQ,CAACF,GAAG,IAAI,mBAAmB,EAChD,CAAC,CAACT,IAAI,4BAAqBA,IAAI,CAAE;EACjC,IAEF;IAAM,SAAS,EAAC;EAAkB,GAC/BM,IAAI,IAAIL,QAAQ,EAChB,IAAAW,mBAAY,EAACV,KAAK,CAAC,IAClB,qCAAC,gBAAO;IAAC,SAAS,EAAC,uBAAuB;IAAC,IAAI,EAAC;EAAG,GAChDA,KAAK,CAET,CACI,CACE;AAEf,CAAC;AAAC"}