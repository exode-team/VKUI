{"version":3,"file":"ModalCardBase.js","names":["ModalCardBase","withAdaptivity","getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","dismissLabel","restProps","platform","usePlatform","isDesktop","useAdaptivityIsDesktop","isSoftwareKeyboardOpened","useKeyboard","isOpened","canShowCloseBtn","ViewWidth","SMALL_TABLET","Platform","VKCOM","canShowCloseBtnIos","IOS","classNames","getClassName","hasReactNode","displayName"],"sources":["../../../../src/components/ModalCardBase/ModalCardBase.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { Title } from \"../Typography/Title/Title\";\nimport { Subhead } from \"../Typography/Subhead/Subhead\";\nimport { classNames } from \"../../lib/classNames\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { ViewWidth, withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport { HasRootRef } from \"../../types\";\nimport { PanelHeaderButton } from \"../PanelHeaderButton/PanelHeaderButton\";\nimport { IOS, Platform } from \"../../lib/platform\";\nimport { ModalDismissButton } from \"../ModalDismissButton/ModalDismissButton\";\nimport { Icon24Dismiss } from \"@vkontakte/icons\";\nimport { useKeyboard } from \"../../hooks/useKeyboard\";\nimport { AdaptivityContextInterface } from \"../AdaptivityProvider/AdaptivityContext\";\nimport { useAdaptivityIsDesktop } from \"../../hooks/useAdaptivity\";\nimport \"./ModalCardBase.css\";\n\nexport interface ModalCardBaseProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: React.ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: React.ReactNode;\n\n  /**\n   * Подзаголовок\n   */\n  subheader?: React.ReactNode;\n\n  /**\n   * Кнопки-действия.\n   *\n   * Рекомендуется использовать `<Button size=\"l\" mode=\"primary\" />` или `<Button size=\"l\" mode=\"secondary\" />`\n   */\n  actions?: React.ReactNode;\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: \"vertical\" | \"horizontal\";\n  onClose?: VoidFunction;\n\n  /**\n   * `aria-label` для кнопки закрытия. Необходим, чтобы кнопка была доступной.\n   */\n  dismissLabel?: string;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalCardBase\n */\nexport const ModalCardBase = withAdaptivity<\n  ModalCardBaseProps & AdaptivityContextInterface\n>(\n  ({\n    getRootRef,\n    icon,\n    header,\n    subheader,\n    children,\n    actions,\n    actionsLayout,\n    viewWidth,\n    hasMouse,\n    viewHeight,\n    onClose,\n    dismissLabel = \"Скрыть\",\n    ...restProps\n  }) => {\n    const platform = usePlatform();\n    const isDesktop = useAdaptivityIsDesktop();\n    const isSoftwareKeyboardOpened = useKeyboard().isOpened;\n\n    const canShowCloseBtn =\n      viewWidth >= ViewWidth.SMALL_TABLET || platform === Platform.VKCOM;\n    const canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n\n    return (\n      <div\n        {...restProps}\n        vkuiClass={classNames(\n          getClassName(\"ModalCardBase\", platform),\n          isDesktop && \"ModalCardBase--desktop\"\n        )}\n        ref={getRootRef}\n      >\n        <div\n          vkuiClass={classNames(\n            \"ModalCardBase__container\",\n            isSoftwareKeyboardOpened &&\n              \"ModalCardBase__container--softwareKeyboardOpened\"\n          )}\n        >\n          {hasReactNode(icon) && (\n            <div vkuiClass=\"ModalCardBase__icon\">{icon}</div>\n          )}\n          {hasReactNode(header) && (\n            <Title level=\"2\" weight=\"2\" vkuiClass=\"ModalCardBase__header\">\n              {header}\n            </Title>\n          )}\n          {hasReactNode(subheader) && (\n            <Subhead vkuiClass=\"ModalCardBase__subheader\">{subheader}</Subhead>\n          )}\n\n          {children}\n\n          {hasReactNode(actions) && (\n            <div\n              vkuiClass={classNames(\n                \"ModalCardBase__actions\",\n                actionsLayout === \"vertical\" && \"ModalCardBase__actions--v\"\n              )}\n            >\n              {actions}\n            </div>\n          )}\n\n          {canShowCloseBtn && <ModalDismissButton onClick={onClose} />}\n          {canShowCloseBtnIos && (\n            <PanelHeaderButton\n              aria-label={dismissLabel}\n              vkuiClass=\"ModalCardBase__dismiss\"\n              onClick={onClose}\n            >\n              <Icon24Dismiss />\n            </PanelHeaderButton>\n          )}\n        </div>\n      </div>\n    );\n  },\n  {\n    viewWidth: true,\n    viewHeight: true,\n    hasMouse: true,\n  }\n);\n\nModalCardBase.displayName = \"ModalCardBase\";\n"],"mappings":";;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAmE;AA0CnE;AACA;AACA;AACO,IAAMA,aAAa,GAAG,IAAAC,8BAAc,EAGzC,gBAcM;EAAA,IAbJC,UAAU,QAAVA,UAAU;IACVC,IAAI,QAAJA,IAAI;IACJC,MAAM,QAANA,MAAM;IACNC,SAAS,QAATA,SAAS;IACTC,QAAQ,QAARA,QAAQ;IACRC,OAAO,QAAPA,OAAO;IACPC,aAAa,QAAbA,aAAa;IACbC,SAAS,QAATA,SAAS;IACTC,QAAQ,QAARA,QAAQ;IACRC,UAAU,QAAVA,UAAU;IACVC,OAAO,QAAPA,OAAO;IAAA,yBACPC,YAAY;IAAZA,YAAY,kCAAG,QAAQ;IACpBC,SAAS;EAEZ,IAAMC,QAAQ,GAAG,IAAAC,wBAAW,GAAE;EAC9B,IAAMC,SAAS,GAAG,IAAAC,qCAAsB,GAAE;EAC1C,IAAMC,wBAAwB,GAAG,IAAAC,wBAAW,GAAE,CAACC,QAAQ;EAEvD,IAAMC,eAAe,GACnBb,SAAS,IAAIc,yBAAS,CAACC,YAAY,IAAIT,QAAQ,KAAKU,kBAAQ,CAACC,KAAK;EACpE,IAAMC,kBAAkB,GAAGZ,QAAQ,KAAKa,aAAG,IAAI,CAACN,eAAe;EAE/D,OACE,uEACMR,SAAS;IACb,SAAS,EAAE,IAAAe,sBAAU,EACnB,IAAAC,0BAAY,EAAC,eAAe,EAAEf,QAAQ,CAAC,EACvCE,SAAS,IAAI,wBAAwB,CACrC;IACF,GAAG,EAAEf;EAAW,IAEhB;IACE,SAAS,EAAE,IAAA2B,sBAAU,EACnB,0BAA0B,EAC1BV,wBAAwB,IACtB,kDAAkD;EACpD,GAED,IAAAY,mBAAY,EAAC5B,IAAI,CAAC,IACjB;IAAK,SAAS,EAAC;EAAqB,GAAEA,IAAI,CAC3C,EACA,IAAA4B,mBAAY,EAAC3B,MAAM,CAAC,IACnB,qCAAC,YAAK;IAAC,KAAK,EAAC,GAAG;IAAC,MAAM,EAAC,GAAG;IAAC,SAAS,EAAC;EAAuB,GAC1DA,MAAM,CAEV,EACA,IAAA2B,mBAAY,EAAC1B,SAAS,CAAC,IACtB,qCAAC,gBAAO;IAAC,SAAS,EAAC;EAA0B,GAAEA,SAAS,CACzD,EAEAC,QAAQ,EAER,IAAAyB,mBAAY,EAACxB,OAAO,CAAC,IACpB;IACE,SAAS,EAAE,IAAAsB,sBAAU,EACnB,wBAAwB,EACxBrB,aAAa,KAAK,UAAU,IAAI,2BAA2B;EAC3D,GAEDD,OAAO,CAEX,EAEAe,eAAe,IAAI,qCAAC,sCAAkB;IAAC,OAAO,EAAEV;EAAQ,EAAG,EAC3De,kBAAkB,IACjB,qCAAC,oCAAiB;IAChB,cAAYd,YAAa;IACzB,SAAS,EAAC,wBAAwB;IAClC,OAAO,EAAED;EAAQ,GAEjB,qCAAC,oBAAa,OAAG,CAEpB,CACG,CACF;AAEV,CAAC,EACD;EACEH,SAAS,EAAE,IAAI;EACfE,UAAU,EAAE,IAAI;EAChBD,QAAQ,EAAE;AACZ,CAAC,CACF;AAAC;AAEFV,aAAa,CAACgC,WAAW,GAAG,eAAe"}