{"version":3,"file":"Tooltip.js","names":["isDOMTypeElement","element","React","isValidElement","type","baseClassName","getClassName","warn","warnOnce","IS_DEV","process","env","NODE_ENV","SimpleTooltip","forwardRef","ref","appearance","header","text","arrow","style","attributes","classNames","container","prefixClass","mapAlignX","x","getPlacement","alignX","alignY","filter","p","join","isVerticalPlacement","placement","startsWith","calculateAppearance","mode","Tooltip","children","isShown","_isShown","offsetX","offsetY","onClose","cornerOffset","cornerAbsoluteOffset","restProps","useNavTransition","entering","useState","tooltipRef","setTooltipRef","target","setTarget","multiChildren","Children","count","primitiveChild","hasReactNode","JSON","stringify","Boolean","tooltipContainer","useMemo","closest","tooltipContainerAttr","strategy","position","Error","modifiers","name","options","offset","push","padding","enabled","phase","fn","state","modifiersData","undefined","y","_placement","usePopper","styles","useDOM","document","useGlobalEventListener","capture","passive","childRef","props","getRootRef","patchedRef","useExternRef","child","cloneElement","_appearance","ReactDOM","createPortal","el","popper"],"sources":["../../../../src/components/Tooltip/Tooltip.tsx"],"sourcesContent":["import * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { classNames } from \"../../lib/classNames\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { Subhead } from \"../Typography/Subhead/Subhead\";\nimport { useNavTransition } from \"../NavTransitionContext/NavTransitionContext\";\nimport { PopperArrow } from \"../PopperArrow/PopperArrow\";\nimport { Modifier, usePopper } from \"react-popper\";\nimport { Placement } from \"@popperjs/core\";\nimport { tooltipContainerAttr } from \"./TooltipContainer\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { useDOM } from \"../../lib/dom\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { prefixClass } from \"../../lib/prefixClass\";\nimport { useGlobalEventListener } from \"../../hooks/useGlobalEventListener\";\nimport { HasRootRef } from \"../../types\";\nimport \"./Tooltip.css\";\n\ninterface SimpleTooltipProps extends Partial<TooltipProps> {\n  target?: HTMLDivElement;\n  style?: {\n    arrow: React.CSSProperties;\n    container: React.CSSProperties;\n  };\n  attributes?: {\n    arrow: React.HTMLAttributes<HTMLDivElement> | null;\n    container: React.HTMLAttributes<HTMLDivElement> | null;\n  };\n}\n\nconst isDOMTypeElement = (\n  element: React.ReactElement\n): element is React.DOMElement<any, any> => {\n  return React.isValidElement(element) && typeof element.type === \"string\";\n};\n\nconst baseClassName = getClassName(\"Tooltip\");\nconst warn = warnOnce(\"Tooltip\");\nconst IS_DEV = process.env.NODE_ENV === \"development\";\n\nconst SimpleTooltip = React.forwardRef<HTMLDivElement, SimpleTooltipProps>(\n  function SimpleTooltip(\n    { appearance = \"accent\", header, text, arrow, style = {}, attributes },\n    ref\n  ) {\n    return (\n      <div vkuiClass={classNames(baseClassName, `Tooltip--${appearance}`)}>\n        <div\n          vkuiClass=\"Tooltip__container\"\n          ref={ref}\n          style={style.container}\n          {...attributes?.container}\n        >\n          {arrow && (\n            <PopperArrow\n              style={style.arrow}\n              attributes={attributes?.arrow}\n              arrowClassName={prefixClass(\"Tooltip__arrow\")}\n            />\n          )}\n          <div vkuiClass=\"Tooltip__content\">\n            {header && (\n              <Subhead weight=\"2\" vkuiClass=\"Tooltip__title\">\n                {header}\n              </Subhead>\n            )}\n            {text && <Subhead vkuiClass=\"Tooltip__text\">{text}</Subhead>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n);\n\nexport interface TooltipProps {\n  /**\n   * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n   * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n   * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n   */\n  children:\n    | React.ReactElement<HasRootRef<any>>\n    | React.ReactElement<React.PropsWithRef<any>>;\n  /**\n   * @deprecated будет удалено в 5.0.0, устанавливать стиль следует через appearance\n   * Стиль отображения подсказки\n   */\n  mode?: \"accent\" | \"light\";\n  /**\n   * Стиль отображения подсказки\n   */\n  appearance?: \"accent\" | \"neutral\" | \"white\" | \"black\" | \"inversion\";\n  /**\n   * Если передан `false`, то рисуется просто `children`.\n   */\n  isShown?: boolean;\n  /**\n   * Текст тултипа.\n   */\n  text?: React.ReactNode;\n  /**\n   * Заголовок тултипа.\n   */\n  header?: React.ReactNode;\n  /**\n   * Положение по горизонтали (прижатие к левому или правому краю `children`).\n   * Если не задано, позиция по горизонтали определятся автоматически\n   */\n  alignX?: \"center\" | \"left\" | \"right\";\n  /**\n   * Положение по вертикали (расположение над или под `children`).\n   * Если не задано, позиция по вертикали определятся автоматически\n   */\n  alignY?: \"top\" | \"bottom\";\n  /**\n   * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n   */\n  offsetX?: number;\n  /**\n   * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n   */\n  offsetY?: number;\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент\n   */\n  arrow?: boolean;\n  /**\n   * Сдвиг стрелочки относительно центра дочернего элемента.\n   */\n  cornerOffset?: number;\n  /**\n   * Сдвиг стрелочки относительно ширины тултипа\n   */\n  cornerAbsoluteOffset?: number;\n  /**\n   * Callback, который вызывается при клике по любому месту в пределах экрана.\n   */\n  onClose?: () => void;\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам. Но его можно задать извне с помощью этого свойства\n   */\n  placement?: Placement;\n}\n\nfunction mapAlignX(x: TooltipProps[\"alignX\"]) {\n  switch (x) {\n    case \"left\":\n      return \"start\";\n    case \"right\":\n      return \"end\";\n    default:\n      return \"\";\n  }\n}\nfunction getPlacement(\n  alignX: TooltipProps[\"alignX\"],\n  alignY: TooltipProps[\"alignY\"]\n): Placement {\n  return [alignY || \"bottom\", mapAlignX(alignX || \"left\")]\n    .filter((p) => !!p)\n    .join(\"-\") as Placement;\n}\nfunction isVerticalPlacement(placement: Placement) {\n  return placement.startsWith(\"top\") || placement.startsWith(\"bottom\");\n}\n\n/**\n * Вычисляем стиль подсказки: параметр appearance имеет приоритет, иначе мапим mode на подходящее значение из appearance\n * TODO: v5 избавиться от пропа mode и этого метода, для appearance по умолчанию сделать \"accent\"\n */\nfunction calculateAppearance(\n  mode: TooltipProps[\"mode\"],\n  appearance: TooltipProps[\"appearance\"]\n): TooltipProps[\"appearance\"] {\n  if (appearance) {\n    return appearance;\n  }\n\n  return mode === \"light\" ? \"white\" : \"accent\";\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport const Tooltip = ({\n  children,\n  isShown: _isShown = true,\n  offsetX = 0,\n  offsetY = 15,\n  alignX,\n  alignY,\n  onClose,\n  cornerOffset = 0,\n  cornerAbsoluteOffset,\n  mode = \"accent\",\n  appearance,\n  arrow = true,\n  placement,\n  ...restProps\n}: TooltipProps) => {\n  const { entering } = useNavTransition();\n  const isShown = _isShown && !entering;\n  const [tooltipRef, setTooltipRef] = React.useState<HTMLElement | null>(null);\n  const [target, setTarget] = React.useState<HTMLElement>();\n\n  if (IS_DEV) {\n    const multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    const primitiveChild =\n      hasReactNode(children) && typeof children !== \"object\";\n    (multiChildren || primitiveChild) &&\n      warn(\n        [\n          \"children должен быть одним React элементом, получено\",\n          multiChildren && \"несколько\",\n          primitiveChild && JSON.stringify(children),\n        ]\n          .filter(Boolean)\n          .join(\" \"),\n        \"error\"\n      );\n  }\n\n  /* eslint-disable no-restricted-properties */\n  /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion*/\n  const tooltipContainer = React.useMemo(\n    () => target?.closest(`[${tooltipContainerAttr}]`) as HTMLDivElement,\n    [target]\n  );\n  const strategy = React.useMemo(\n    () => (target?.style.position === \"fixed\" ? \"fixed\" : \"absolute\"),\n    [target]\n  );\n  /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion*/\n  /* eslint-enable no-restricted-properties */\n\n  if (IS_DEV && target && !tooltipContainer) {\n    throw new Error(\n      \"Use TooltipContainer for Tooltip outside Panel (see docs)\"\n    );\n  }\n\n  const modifiers = React.useMemo(() => {\n    const modifiers: Array<Modifier<string>> = [\n      {\n        name: \"offset\",\n        options: {\n          offset: [offsetX, offsetY],\n        },\n      },\n      {\n        name: \"preventOverflow\",\n      },\n      {\n        name: \"flip\",\n      },\n    ];\n\n    if (arrow) {\n      modifiers.push({\n        name: \"arrow\",\n        options: {\n          padding: 14,\n        },\n      });\n      modifiers.push({\n        name: \"arrowOffset\",\n        enabled: true,\n        phase: \"main\",\n        fn({ state }) {\n          if (!state.modifiersData.arrow) {\n            return;\n          }\n          if (isVerticalPlacement(state.placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.x = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.x !== undefined) {\n                state.modifiersData.arrow.x += cornerOffset;\n              }\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.y = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.y !== undefined) {\n                state.modifiersData.arrow.y += cornerOffset;\n              }\n            }\n          }\n        },\n      });\n    }\n\n    return modifiers;\n  }, [arrow, cornerAbsoluteOffset, cornerOffset, offsetX, offsetY]);\n\n  const _placement = placement ?? getPlacement(alignX, alignY);\n  const { styles, attributes } = usePopper(target, tooltipRef, {\n    strategy,\n    placement: _placement,\n    modifiers,\n  });\n\n  const { document } = useDOM();\n  useGlobalEventListener(document, \"click\", isShown && onClose, {\n    capture: true,\n    passive: true,\n  });\n  // NOTE: setting isShown to true used to trigger usePopper().forceUpdate()\n\n  const childRef =\n    React.isValidElement(children) &&\n    (isDOMTypeElement(children) ? children.ref : children.props.getRootRef);\n  const patchedRef = useExternRef(setTarget, childRef);\n  const child = React.isValidElement(children)\n    ? React.cloneElement(children, {\n        [isDOMTypeElement(children) ? \"ref\" : \"getRootRef\"]: patchedRef,\n      })\n    : children;\n\n  const _appearance = calculateAppearance(mode, appearance);\n\n  return (\n    <React.Fragment>\n      {child}\n      {isShown &&\n        target != null &&\n        ReactDOM.createPortal(\n          <SimpleTooltip\n            {...restProps}\n            appearance={_appearance}\n            arrow={arrow}\n            ref={(el) => setTooltipRef(el)}\n            style={{ arrow: styles.arrow, container: styles.popper }}\n            attributes={{\n              arrow: attributes.arrow ?? null,\n              container: attributes.popper ?? null,\n            }}\n          />,\n          tooltipContainer\n        )}\n    </React.Fragment>\n  );\n};\n"],"mappings":"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"}