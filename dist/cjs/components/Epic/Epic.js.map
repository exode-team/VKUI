{"version":3,"sources":["../../../../src/components/Epic/Epic.tsx"],"names":["warn","EpicComponent","activeStory","tabbar","children","viewWidth","restProps","scroll","React","useRef","current","process","env","NODE_ENV","ViewWidth","SMALL_TABLET","SMALL_TABLET_SIZE","story","Children","toArray","find","isValidElement","props","value","Epic","displayName"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAKA;;;AAUA,IAAMA,IAAI,GAAG,wBAAS,MAAT,CAAb;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAMwB;AAAA;;AAAA,MAL5CC,WAK4C,QAL5CA,WAK4C;AAAA,MAJ5CC,MAI4C,QAJ5CA,MAI4C;AAAA,MAH5CC,QAG4C,QAH5CA,QAG4C;AAAA,MAF5CC,SAE4C,QAF5CA,SAE4C;AAAA,MADzCC,SACyC;AAC5C,MAAMC,MAAM,GAAGC,KAAK,CAACC,MAAN,CAAwC,EAAxC,EAA4CC,OAA3D;;AAEA,MACEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IACA,CAACV,MADD,IAEAE,SAAS,GAAGS,0BAAUC,YAHxB,EAIE;AACAf,IAAAA,IAAI,qUACsEgB,qCADtE,QAAJ;AAGD;;AACD,MAAMC,KAAK,YACRT,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBf,QAAvB,EAAiCgB,IAAjC,CACC,UAACH,KAAD;AAAA,WACE,aAAAT,KAAK,CAACa,cAAN,CAAqBJ,KAArB,KACA,wBAASA,KAAK,CAACK,KAAf,EAAsBtB,IAAtB,MAAgCE,WAFlC;AAAA,GADD,CADQ,yCAK+B,IAL1C;AAOA,SACE,uEAASI,SAAT;AAAoB,IAAA,SAAS,EAAC;AAA9B,MACE,qCAAC,wBAAD;AACE,IAAA,GAAG,EAAEJ,WADP;AAEE,IAAA,aAAa,EAAEK,MAAM,CAACL,WAAD,CAAN,IAAuB,CAFxC;AAGE,IAAA,UAAU,EAAE,oBAACqB,KAAD;AAAA,aAAYhB,MAAM,CAACL,WAAD,CAAN,GAAsBqB,KAAlC;AAAA;AAHd,KAKGN,KALH,CADF,EAQGd,MARH,CADF;AAYD,CArCD;AAuCA;AACA;AACA;;;AACO,IAAMqB,IAAI,GAAG,oCAAevB,aAAf,EAA8B;AAChDI,EAAAA,SAAS,EAAE;AADqC,CAA9B,CAAb;;AAIPmB,IAAI,CAACC,WAAL,GAAmB,MAAnB","sourcesContent":["import * as React from \"react\";\nimport { withAdaptivity, ViewWidth } from \"../../hoc/withAdaptivity\";\nimport { ScrollSaver } from \"./ScrollSaver\";\nimport { getNavId } from \"../../lib/getNavId\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport {\n  AdaptivityContextInterface,\n  AdaptivityProps,\n} from \"../AdaptivityProvider/AdaptivityContext\";\nimport { SMALL_TABLET_SIZE } from \"../AdaptivityProvider/AdaptivityProvider\";\nimport \"./Epic.css\";\n\nexport interface EpicProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    AdaptivityProps {\n  tabbar?: React.ReactNode;\n  activeStory: string;\n}\n\nconst warn = warnOnce(\"Epic\");\n\nconst EpicComponent = ({\n  activeStory,\n  tabbar,\n  children,\n  viewWidth,\n  ...restProps\n}: EpicProps & AdaptivityContextInterface) => {\n  const scroll = React.useRef<{ [key: string]: number }>({}).current;\n\n  if (\n    process.env.NODE_ENV === \"development\" &&\n    !tabbar &&\n    viewWidth < ViewWidth.SMALL_TABLET\n  ) {\n    warn(\n      `Не рекомендуется использовать Epic без Tabbar при ширине окна меньше ${SMALL_TABLET_SIZE}px`\n    );\n  }\n  const story =\n    (React.Children.toArray(children).find(\n      (story) =>\n        React.isValidElement(story) &&\n        getNavId(story.props, warn) === activeStory\n    ) as React.ReactElement | undefined) ?? null;\n\n  return (\n    <div {...restProps} vkuiClass=\"Epic\">\n      <ScrollSaver\n        key={activeStory}\n        initialScroll={scroll[activeStory] || 0}\n        saveScroll={(value) => (scroll[activeStory] = value)}\n      >\n        {story}\n      </ScrollSaver>\n      {tabbar}\n    </div>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Epic\n */\nexport const Epic = withAdaptivity(EpicComponent, {\n  viewWidth: true,\n});\n\nEpic.displayName = \"Epic\";\n"],"file":"Epic.js"}