{"version":3,"file":"Epic.js","names":["warn","warnOnce","EpicComponent","activeStory","tabbar","children","viewWidth","restProps","scroll","React","useRef","current","process","env","NODE_ENV","ViewWidth","SMALL_TABLET","SMALL_TABLET_SIZE","story","Children","toArray","find","isValidElement","getNavId","props","value","Epic","withAdaptivity","displayName"],"sources":["../../../../src/components/Epic/Epic.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { withAdaptivity, ViewWidth } from \"../../hoc/withAdaptivity\";\nimport { ScrollSaver } from \"./ScrollSaver\";\nimport { getNavId } from \"../../lib/getNavId\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport {\n  AdaptivityContextInterface,\n  AdaptivityProps,\n} from \"../AdaptivityProvider/AdaptivityContext\";\nimport { SMALL_TABLET_SIZE } from \"../AdaptivityProvider/AdaptivityProvider\";\nimport \"./Epic.css\";\n\nexport interface EpicProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    AdaptivityProps {\n  tabbar?: React.ReactNode;\n  activeStory: string;\n}\n\nconst warn = warnOnce(\"Epic\");\n\nconst EpicComponent = ({\n  activeStory,\n  tabbar,\n  children,\n  viewWidth,\n  ...restProps\n}: EpicProps & AdaptivityContextInterface) => {\n  const scroll = React.useRef<{ [key: string]: number }>({}).current;\n\n  if (\n    process.env.NODE_ENV === \"development\" &&\n    !tabbar &&\n    viewWidth < ViewWidth.SMALL_TABLET\n  ) {\n    warn(\n      `Не рекомендуется использовать Epic без Tabbar при ширине окна меньше ${SMALL_TABLET_SIZE}px`\n    );\n  }\n  const story =\n    (React.Children.toArray(children).find(\n      (story) =>\n        React.isValidElement(story) &&\n        getNavId(story.props, warn) === activeStory\n    ) as React.ReactElement | undefined) ?? null;\n\n  return (\n    <div {...restProps} vkuiClass=\"Epic\">\n      <ScrollSaver\n        key={activeStory}\n        initialScroll={scroll[activeStory] || 0}\n        saveScroll={(value) => (scroll[activeStory] = value)}\n      >\n        {story}\n      </ScrollSaver>\n      {tabbar}\n    </div>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Epic\n */\nexport const Epic = withAdaptivity(EpicComponent, {\n  viewWidth: true,\n});\n\nEpic.displayName = \"Epic\";\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAKA;AAA6E;AAU7E,IAAMA,IAAI,GAAG,IAAAC,kBAAQ,EAAC,MAAM,CAAC;AAE7B,IAAMC,aAAa,GAAG,SAAhBA,aAAa,OAM2B;EAAA;EAAA,IAL5CC,WAAW,QAAXA,WAAW;IACXC,MAAM,QAANA,MAAM;IACNC,QAAQ,QAARA,QAAQ;IACRC,SAAS,QAATA,SAAS;IACNC,SAAS;EAEZ,IAAMC,MAAM,GAAGC,KAAK,CAACC,MAAM,CAA4B,CAAC,CAAC,CAAC,CAACC,OAAO;EAElE,IACEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,IACtC,CAACV,MAAM,IACPE,SAAS,GAAGS,yBAAS,CAACC,YAAY,EAClC;IACAhB,IAAI,qUACsEiB,qCAAiB,QAC1F;EACH;EACA,IAAMC,KAAK,YACRT,KAAK,CAACU,QAAQ,CAACC,OAAO,CAACf,QAAQ,CAAC,CAACgB,IAAI,CACpC,UAACH,KAAK;IAAA,OACJ,aAAAT,KAAK,CAACa,cAAc,CAACJ,KAAK,CAAC,IAC3B,IAAAK,kBAAQ,EAACL,KAAK,CAACM,KAAK,EAAExB,IAAI,CAAC,KAAKG,WAAW;EAAA,EAC9C,yCAAuC,IAAI;EAE9C,OACE,uEAASI,SAAS;IAAE,SAAS,EAAC;EAAM,IAClC,qCAAC,wBAAW;IACV,GAAG,EAAEJ,WAAY;IACjB,aAAa,EAAEK,MAAM,CAACL,WAAW,CAAC,IAAI,CAAE;IACxC,UAAU,EAAE,oBAACsB,KAAK;MAAA,OAAMjB,MAAM,CAACL,WAAW,CAAC,GAAGsB,KAAK;IAAA;EAAE,GAEpDP,KAAK,CACM,EACbd,MAAM,CACH;AAEV,CAAC;;AAED;AACA;AACA;AACO,IAAMsB,IAAI,GAAG,IAAAC,8BAAc,EAACzB,aAAa,EAAE;EAChDI,SAAS,EAAE;AACb,CAAC,CAAC;AAAC;AAEHoB,IAAI,CAACE,WAAW,GAAG,MAAM"}