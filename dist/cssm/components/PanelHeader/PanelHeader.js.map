{"version":3,"file":"PanelHeader.js","names":["React","usePlatform","getClassName","classNames","warnOnce","FixedLayout","Separator","Platform","VKCOM","ConfigProviderContext","WebviewType","SizeType","withAdaptivity","Text","TooltipContainer","ModalRootContext","Spacing","PanelHeaderIn","before","after","separator","children","useContext","webviewType","isInsideModal","platform","INTERNAL","warn","PanelHeaderComponent","propsBefore","left","propsAfter","right","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed","restProps","needShadow","REGULAR","isFixed","undefined","process","env","NODE_ENV","innerProps","VKAPPS","PanelHeader","displayName"],"sources":["../../../../src/components/PanelHeader/PanelHeader.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { FixedLayout } from \"../FixedLayout/FixedLayout\";\nimport { Separator } from \"../Separator/Separator\";\nimport { Platform, VKCOM } from \"../../lib/platform\";\nimport { HasRef, HasRootRef } from \"../../types\";\nimport {\n  ConfigProviderContext,\n  WebviewType,\n} from \"../ConfigProvider/ConfigProviderContext\";\nimport {\n  AdaptivityProps,\n  SizeType,\n  withAdaptivity,\n} from \"../../hoc/withAdaptivity\";\nimport { Text } from \"../Typography/Text/Text\";\nimport { TooltipContainer } from \"../Tooltip/TooltipContainer\";\nimport { ModalRootContext } from \"../ModalRoot/ModalRootContext\";\nimport { Spacing } from \"../Spacing/Spacing\";\nimport \"./PanelHeader.css\";\n\nexport interface PanelHeaderProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRef<HTMLDivElement>,\n    HasRootRef<HTMLDivElement>,\n    AdaptivityProps {\n  before?: React.ReactNode;\n  /**\n   * @deprecated Будет удалено в 5.0.0. Используйте `before`\n   */\n  left?: React.ReactNode;\n  after?: React.ReactNode;\n  /**\n   * @deprecated Будет удалено в 5.0.0. Используйте `after`\n   */\n  right?: React.ReactNode;\n  separator?: boolean;\n  transparent?: boolean;\n  shadow?: boolean;\n  /**\n   * Если `false`, то шапка будет нулевой высоты и контент панели \"залезет\" под неё\n   */\n  visor?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n}\n\nconst PanelHeaderIn = ({\n  before,\n  after,\n  separator,\n  children,\n}: PanelHeaderProps) => {\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const platform = usePlatform();\n\n  return (\n    <React.Fragment>\n      <TooltipContainer fixed vkuiClass=\"PanelHeader__in\">\n        <div vkuiClass=\"PanelHeader__before\">{before}</div>\n        <div vkuiClass=\"PanelHeader__content\">\n          {platform === VKCOM ? (\n            <Text weight=\"2\">{children}</Text>\n          ) : (\n            <span vkuiClass=\"PanelHeader__content-in\">{children}</span>\n          )}\n        </div>\n        <div vkuiClass=\"PanelHeader__after\">\n          {(webviewType === WebviewType.INTERNAL || isInsideModal) && after}\n        </div>\n      </TooltipContainer>\n      {separator && platform === VKCOM && <Separator wide />}\n    </React.Fragment>\n  );\n};\n\nconst warn = warnOnce(\"PanelHeader\");\nconst PanelHeaderComponent = ({\n  // TODO: поправить перед 5.0.0\n  before: propsBefore,\n  left,\n  after: propsAfter,\n  right,\n  // /end TODO\n  children,\n  separator = true,\n  visor = true,\n  transparent = false,\n  shadow,\n  getRef,\n  getRootRef,\n  sizeX,\n  sizeY,\n  fixed,\n  ...restProps\n}: PanelHeaderProps) => {\n  const platform = usePlatform();\n  const { webviewType } = React.useContext(ConfigProviderContext);\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const needShadow = shadow && sizeX === SizeType.REGULAR;\n  let isFixed = fixed !== undefined ? fixed : platform !== Platform.VKCOM;\n\n  // TODO: удалить перед 5.0.0\n  const before = propsBefore ?? left;\n  const after = propsAfter ?? right;\n\n  if (process.env.NODE_ENV === \"development\") {\n    right &&\n      warn(\n        \"Свойство right устарелo и будет удалено в 5.0.0. Используйте after.\"\n      );\n    left &&\n      warn(\n        \"Свойство left устарелo и будет удалено в 5.0.0. Используйте before.\"\n      );\n  }\n  // /end TODO\n\n  const innerProps = { before, after, separator, children };\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName(\"PanelHeader\", platform),\n        transparent && \"PanelHeader--trnsp\",\n        needShadow && \"PanelHeader--shadow\",\n        visor && \"PanelHeader--vis\",\n        separator && visor && \"PanelHeader--sep\",\n        webviewType === WebviewType.VKAPPS &&\n          !isInsideModal &&\n          \"PanelHeader--vkapps\",\n        !before && \"PanelHeader--no-before\",\n        !after && \"PanelHeader--no-after\",\n        isFixed && \"PanelHeader--fixed\",\n        // TODO v5.0.0 поправить под новую адаптивность\n        `PanelHeader--sizeX-${sizeX}`\n      )}\n      ref={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ? (\n        <FixedLayout\n          vkuiClass=\"PanelHeader__fixed\"\n          vertical=\"top\"\n          getRootRef={getRef}\n        >\n          <PanelHeaderIn {...innerProps} />\n        </FixedLayout>\n      ) : (\n        <PanelHeaderIn {...innerProps} />\n      )}\n      {separator &&\n        visor &&\n        platform !== VKCOM &&\n        (sizeX === SizeType.REGULAR ? <Spacing size={16} /> : <Separator />)}\n    </div>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/PanelHeader\n */\nexport const PanelHeader = withAdaptivity(PanelHeaderComponent, {\n  sizeX: true,\n  sizeY: true,\n});\n\nPanelHeader.displayName = \"PanelHeader\";\n"],"mappings":"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"}