{"version":3,"file":"AppearanceProvider.js","names":["React","AppearanceProviderContext","getScheme","classNamesString","usePlatform","Platform","generateVKUITokensClassName","platform","appearance","tokensPlatform","ANDROID","IOS","VKCOM","AppearanceProvider","children","scheme","Children","map","child","isValidElement","cloneElement","className","props"],"sources":["../../../../src/components/AppearanceProvider/AppearanceProvider.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { AppearanceType } from \"@vkontakte/vk-bridge\";\nimport { AppearanceProviderContext } from \"./AppearanceProviderContext\";\nimport { getScheme } from \"../../helpers/getScheme\";\nimport { classNamesString } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Platform } from \"../../lib/platform\";\n\nexport interface AppearanceProviderProps {\n  appearance?: AppearanceType;\n  children?: React.ReactNode;\n}\n\nexport const generateVKUITokensClassName = (\n  platform: string,\n  appearance: string\n): string => {\n  let tokensPlatform;\n  switch (platform) {\n    case Platform.ANDROID:\n      tokensPlatform = \"vkBase\";\n      break;\n    case Platform.IOS:\n      tokensPlatform = \"vkIOS\";\n      break;\n    case Platform.VKCOM:\n      tokensPlatform = \"vkCom\";\n      break;\n    default:\n      tokensPlatform = platform;\n  }\n\n  return `vkui--${tokensPlatform}--${appearance}`;\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AppearanceProvider\n */\nexport const AppearanceProvider = ({\n  children,\n  appearance = \"light\",\n}: AppearanceProviderProps) => {\n  const platform = usePlatform();\n  const scheme = getScheme({\n    platform,\n    appearance,\n  });\n\n  return (\n    <AppearanceProviderContext.Provider value={appearance}>\n      {React.Children.map(children, (child) => {\n        if (React.isValidElement(child)) {\n          return React.cloneElement(child, {\n            className: classNamesString(\n              child.props.className,\n              `vkui${scheme}`,\n              generateVKUITokensClassName(platform, appearance)\n            ),\n          });\n        }\n        return child;\n      })}\n    </AppearanceProviderContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAE9B,SAASC,yBAAyB;AAClC,SAASC,SAAS;AAClB,SAASC,gBAAgB;AACzB,SAASC,WAAW;AACpB,SAASC,QAAQ;AAOjB,OAAO,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2B,CACtCC,QAAgB,EAChBC,UAAkB,EACP;EACX,IAAIC,cAAc;EAClB,QAAQF,QAAQ;IACd,KAAKF,QAAQ,CAACK,OAAO;MACnBD,cAAc,GAAG,QAAQ;MACzB;IACF,KAAKJ,QAAQ,CAACM,GAAG;MACfF,cAAc,GAAG,OAAO;MACxB;IACF,KAAKJ,QAAQ,CAACO,KAAK;MACjBH,cAAc,GAAG,OAAO;MACxB;IACF;MACEA,cAAc,GAAGF,QAAQ;EAAC;EAG9B,uBAAgBE,cAAc,eAAKD,UAAU;AAC/C,CAAC;;AAED;AACA;AACA;AACA,OAAO,IAAMK,kBAAkB,GAAG,SAArBA,kBAAkB,OAGA;EAAA,IAF7BC,QAAQ,QAARA,QAAQ;IAAA,uBACRN,UAAU;IAAVA,UAAU,gCAAG,OAAO;EAEpB,IAAMD,QAAQ,GAAGH,WAAW,EAAE;EAC9B,IAAMW,MAAM,GAAGb,SAAS,CAAC;IACvBK,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA;EACF,CAAC,CAAC;EAEF,OACE,oBAAC,yBAAyB,CAAC,QAAQ;IAAC,KAAK,EAAEA;EAAW,GACnDR,KAAK,CAACgB,QAAQ,CAACC,GAAG,CAACH,QAAQ,EAAE,UAACI,KAAK,EAAK;IACvC,kBAAIlB,KAAK,CAACmB,cAAc,CAACD,KAAK,CAAC,EAAE;MAC/B,oBAAOlB,KAAK,CAACoB,YAAY,CAACF,KAAK,EAAE;QAC/BG,SAAS,EAAElB,gBAAgB,CACzBe,KAAK,CAACI,KAAK,CAACD,SAAS,gBACdN,MAAM,GACbT,2BAA2B,CAACC,QAAQ,EAAEC,UAAU,CAAC;MAErD,CAAC,CAAC;IACJ;IACA,OAAOU,KAAK;EACd,CAAC,CAAC,CACiC;AAEzC,CAAC"}