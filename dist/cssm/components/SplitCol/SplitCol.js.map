{"version":3,"file":"SplitCol.js","names":["React","useScrollLockEffect","classNames","noop","SplitColContext","createContext","colRef","animate","useSplitCol","useContext","SplitCol","children","width","maxWidth","minWidth","spaced","fixed","style","restProps","baseRef","useRef","fixedInnerRef","contextValue","useMemo","fixedInner","current","top","offsetTop"],"sources":["../../../../src/components/SplitCol/SplitCol.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { useScrollLockEffect } from \"../AppRoot/ScrollContext\";\nimport { classNames } from \"../../lib/classNames\";\nimport { noop } from \"../../lib/utils\";\nimport \"./SplitCol.css\";\n\nexport interface SplitColContextProps {\n  colRef: React.RefObject<HTMLDivElement> | null;\n  animate: boolean;\n}\n\nexport const SplitColContext = React.createContext<SplitColContextProps>({\n  colRef: null,\n  animate: true,\n});\n\nexport const useSplitCol = () => React.useContext(SplitColContext);\n\nexport interface SplitColProps extends React.HTMLAttributes<HTMLDivElement> {\n  width?: number | string;\n  maxWidth?: number | string;\n  minWidth?: number | string;\n  /**\n   * Если false, то переходы между Panel происходят без анимации\n   */\n  animate?: boolean;\n  /**\n   * Если true, то добавляются боковые отступы фиксированной величины\n   */\n  spaced?: boolean;\n  fixed?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SplitCol\n */\nexport const SplitCol = ({\n  children,\n  width,\n  maxWidth,\n  minWidth,\n  spaced,\n  animate = false,\n  fixed,\n  style,\n  ...restProps\n}: SplitColProps) => {\n  const baseRef = React.useRef<HTMLDivElement>(null);\n\n  const fixedInnerRef = React.useRef<HTMLDivElement>(null);\n\n  const contextValue = React.useMemo(() => {\n    return {\n      colRef: baseRef,\n      animate,\n    };\n  }, [baseRef, animate]);\n\n  useScrollLockEffect(() => {\n    const fixedInner = fixedInnerRef.current;\n    if (!fixedInner) {\n      return noop;\n    }\n\n    fixedInner.style.top = `${fixedInner.offsetTop}px`;\n\n    return () => {\n      fixedInner.style.top = \"\";\n    };\n  }, [fixedInnerRef.current]);\n\n  return (\n    <div\n      {...restProps}\n      style={{\n        ...style,\n        width: width,\n        maxWidth: maxWidth,\n        minWidth: minWidth,\n      }}\n      ref={baseRef}\n      vkuiClass={classNames(\n        \"SplitCol\",\n        spaced && \"SplitCol--spaced\",\n        fixed && \"SplitCol--fixed\"\n      )}\n    >\n      <SplitColContext.Provider value={contextValue}>\n        {fixed ? (\n          <div ref={fixedInnerRef} vkuiClass=\"SplitCol__fixedInner\">\n            {children}\n          </div>\n        ) : (\n          children\n        )}\n      </SplitColContext.Provider>\n    </div>\n  );\n};\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,mBAAmB;AAC5B,SAASC,UAAU;AACnB,SAASC,IAAI;AACb;AAOA,OAAO,IAAMC,eAAe,gBAAGJ,KAAK,CAACK,aAAa,CAAuB;EACvEC,MAAM,EAAE,IAAI;EACZC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAW;EAAA,OAASR,KAAK,CAACS,UAAU,CAACL,eAAe,CAAC;AAAA;AAiBlE;AACA;AACA;AACA,OAAO,IAAMM,QAAQ,GAAG,SAAXA,QAAQ,OAUA;EAAA,IATnBC,QAAQ,QAARA,QAAQ;IACRC,KAAK,QAALA,KAAK;IACLC,QAAQ,QAARA,QAAQ;IACRC,QAAQ,QAARA,QAAQ;IACRC,MAAM,QAANA,MAAM;IAAA,oBACNR,OAAO;IAAPA,OAAO,6BAAG,KAAK;IACfS,KAAK,QAALA,KAAK;IACLC,KAAK,QAALA,KAAK;IACFC,SAAS;EAEZ,IAAMC,OAAO,GAAGnB,KAAK,CAACoB,MAAM,CAAiB,IAAI,CAAC;EAElD,IAAMC,aAAa,GAAGrB,KAAK,CAACoB,MAAM,CAAiB,IAAI,CAAC;EAExD,IAAME,YAAY,GAAGtB,KAAK,CAACuB,OAAO,CAAC,YAAM;IACvC,OAAO;MACLjB,MAAM,EAAEa,OAAO;MACfZ,OAAO,EAAPA;IACF,CAAC;EACH,CAAC,EAAE,CAACY,OAAO,EAAEZ,OAAO,CAAC,CAAC;EAEtBN,mBAAmB,CAAC,YAAM;IACxB,IAAMuB,UAAU,GAAGH,aAAa,CAACI,OAAO;IACxC,IAAI,CAACD,UAAU,EAAE;MACf,OAAOrB,IAAI;IACb;IAEAqB,UAAU,CAACP,KAAK,CAACS,GAAG,aAAMF,UAAU,CAACG,SAAS,OAAI;IAElD,OAAO,YAAM;MACXH,UAAU,CAACP,KAAK,CAACS,GAAG,GAAG,EAAE;IAC3B,CAAC;EACH,CAAC,EAAE,CAACL,aAAa,CAACI,OAAO,CAAC,CAAC;EAE3B,OACE,wCACMP,SAAS;IACb,KAAK,kCACAD,KAAK;MACRL,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA,QAAQ;MAClBC,QAAQ,EAAEA;IAAQ,EAClB;IACF,GAAG,EAAEK,OAAQ;IACb,SAAS,EAAEjB,UAAU,CACnB,UAAU,EACVa,MAAM,IAAI,kBAAkB,EAC5BC,KAAK,IAAI,iBAAiB;EAC1B,IAEF,oBAAC,eAAe,CAAC,QAAQ;IAAC,KAAK,EAAEM;EAAa,GAC3CN,KAAK,GACJ;IAAK,GAAG,EAAEK,aAAc;IAAC,SAAS,EAAC;EAAsB,GACtDV,QAAQ,CACL,GAENA,QACD,CACwB,CACvB;AAEV,CAAC"}