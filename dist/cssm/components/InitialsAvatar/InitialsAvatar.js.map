{"version":3,"sources":["../../../../src/components/InitialsAvatar/InitialsAvatar.tsx"],"names":["classNames","AVATAR_DEFAULT_SIZE","Avatar","COLORS_NUMBER_TO_TEXT_MAP","getInitialsFontSize","avatarSize","calculatedFontSize","Math","ceil","evenFix","InitialsAvatar","size","children","gradientColor","style","restProps","gradientName","fontSize"],"mappings":";;;;;AAEA,SAASA,UAAT;AACA,SAASC,mBAAT,EAA8BC,MAA9B;AACA;AAEA;AACA;AACA;AACA;;AAqCA,IAAMC,yBAGL,GAAG;AACF,KAAG,KADD;AAEF,KAAG,QAFD;AAGF,KAAG,QAHD;AAIF,KAAG,OAJD;AAKF,KAAG,QALD;AAMF,KAAG;AAND,CAHJ;;AAYA,SAASC,mBAAT,CAA6BC,UAA7B,EAAiD;AAC/C,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,IAAL,CAAUH,UAAU,GAAG,IAAvB,CAA3B;AACA,MAAMI,OAAO,GAAGH,kBAAkB,GAAG,CAArC;AACA,SAAOA,kBAAkB,GAAGG,OAA5B;AACD;AAED;AACA;AACA;;;AACA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAMH;AAAA,uBALzBC,IAKyB;AAAA,MALzBA,IAKyB,0BALlBV,mBAKkB;AAAA,MAJzBW,QAIyB,QAJzBA,QAIyB;AAAA,MAHzBC,aAGyB,QAHzBA,aAGyB;AAAA,MAFzBC,KAEyB,QAFzBA,KAEyB;AAAA,MADtBC,SACsB;;AACzB,MAAMC,YAAY,GAChB,OAAOH,aAAP,KAAyB,QAAzB,GACIA,aADJ,GAEIA,aAAa,IAAIV,yBAAyB,CAACU,aAAD,CAHhD;AAKA,SACE,oBAAC,MAAD,eACME,SADN;AAEE,IAAA,KAAK,kCACAD,KADA;AAEHG,MAAAA,QAAQ,EAAEb,mBAAmB,CAACO,IAAD;AAF1B,MAFP;AAME,IAAA,IAAI,EAAEA,IANR;AAOE,IAAA,SAAS,EAAEX,UAAU,CACnB,gBADmB,kCAEMgB,YAFN;AAPvB,MAYE;AAAM,mBAAY,MAAlB;AAAyB,IAAA,SAAS,EAAC;AAAnC,KACGJ,QADH,CAZF,CADF;AAkBD,CA9BM","sourcesContent":["import * as React from \"react\";\nimport { HasRootRef } from \"../../types\";\nimport { classNames } from \"../../lib/classNames\";\nimport { AVATAR_DEFAULT_SIZE, Avatar, AvatarProps } from \"../Avatar/Avatar\";\nimport \"./InitialsAvatar.css\";\n\n/**\n * Градиенты, которые можно использовать в алгоритме поиска градиентов по числовому идентификатору пользователя.\n * @example user.id % 6 + 1\n */\nexport type InitialsAvatarNumberGradients = 1 | 2 | 3 | 4 | 5 | 6;\nexport type InitialsAvatarTextGradients =\n  | \"red\"\n  | \"pink\"\n  | \"orange\"\n  | \"yellow\"\n  | \"green\"\n  | \"l-blue\"\n  | \"blue\"\n  | \"violet\";\n\nexport interface InitialsAvatarProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    HasRootRef<HTMLDivElement>,\n    Pick<AvatarProps, \"size\" | \"shadow\" | \"badge\"> {\n  children?: React.ReactNode;\n  /**\n   * `'red' | 'pink' | 'orange' | 'yellow' | 'green' | 'l-blue' | 'blue' | 'violet'`\n   *\n   * Если передано число, то оно будет сконвертировано в строчное представление цвета по следующей схеме:\n   *\n   * 1: 'red'\n   *\n   * 2: 'orange'\n   *\n   * 3: 'yellow'\n   *\n   * 4: 'green'\n   *\n   * 5: 'l-blue'\n   *\n   * 6: 'violet'\n   */\n  gradientColor?: InitialsAvatarNumberGradients | InitialsAvatarTextGradients;\n}\n\nconst COLORS_NUMBER_TO_TEXT_MAP: Record<\n  InitialsAvatarNumberGradients,\n  InitialsAvatarTextGradients\n> = {\n  1: \"red\",\n  2: \"orange\",\n  3: \"yellow\",\n  4: \"green\",\n  5: \"l-blue\",\n  6: \"violet\",\n};\n\nfunction getInitialsFontSize(avatarSize: number) {\n  const calculatedFontSize = Math.ceil(avatarSize * 0.36);\n  const evenFix = calculatedFontSize % 2;\n  return calculatedFontSize + evenFix;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/InitialsAvatar\n */\nexport const InitialsAvatar = ({\n  size = AVATAR_DEFAULT_SIZE,\n  children,\n  gradientColor,\n  style,\n  ...restProps\n}: InitialsAvatarProps) => {\n  const gradientName =\n    typeof gradientColor === \"string\"\n      ? gradientColor\n      : gradientColor && COLORS_NUMBER_TO_TEXT_MAP[gradientColor];\n\n  return (\n    <Avatar\n      {...restProps}\n      style={{\n        ...style,\n        fontSize: getInitialsFontSize(size),\n      }}\n      size={size}\n      vkuiClass={classNames(\n        \"InitialsAvatar\",\n        `InitialsAvatar--color-${gradientName}`\n      )}\n    >\n      <span aria-hidden=\"true\" vkuiClass=\"InitialsAvatar__text\">\n        {children}\n      </span>\n    </Avatar>\n  );\n};\n"],"file":"InitialsAvatar.js"}