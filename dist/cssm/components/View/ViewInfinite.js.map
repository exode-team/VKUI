{"version":3,"file":"ViewInfinite.js","names":["React","classNames","transitionEvent","animationEvent","getClassName","IOS","ANDROID","VKCOM","Touch","withPlatform","withContext","ConfigProviderContext","SplitColContext","AppRootPortal","canUseDOM","withDOM","ScrollContext","NavTransitionProvider","getNavId","warnOnce","swipeBackExcluded","warn","SwipeBackResults","scrollsCache","ViewInfiniteComponent","props","undefined","e","includes","animationName","state","prevPanel","flushTransition","Boolean","isBack","propertyName","target","pickPanel","swipeBackNextPanel","swipeBackResult","fail","onSwipeBackCancel","success","onSwipeBackSuccess","window","platform","configProvider","isWebView","startX","innerWidth","browserSwipe","setState","onSwipeBack","animated","swipingBack","history","length","activePanel","prevScrolls","scrolls","scroll","getScroll","y","swipebackStartX","swipeBackPrevPanel","slice","swipeBackShift","shiftX","speed","duration","visiblePanels","nextPanel","document","Children","toArray","children","id","animationFinishTimeout","clearTimeout","prevProps","prevState","popout","blurActiveElement","modal","isBackCheck","from","to","firstLayerId","panels","map","panel","find","shouldDisableTransitionMotion","supported","setTimeout","transitionEndHandler","scrollPosition","prevPanelScrolls","newPanelScrolls","pop","scrollTo","onTransition","onSwipeBackStart","waitTransitionFinish","swipingBackTransitionEndHandler","transitionMotionEnabled","splitCol","animate","elem","eventHandler","name","removeEventListener","addEventListener","transitionFinishTimeout","activeElement","blur","panelNodes","panelId","isPrev","isNext","prevPanelTranslate","nextPanelTranslate","prevPanelShadow","boxShadow","transform","WebkitTransform","_1","nav","restProps","hasPopout","hasModal","filter","sort","isPrevPanel","isNextPanel","disableAnimation","modifiers","onMoveX","onEnd","compensateScroll","isTransitionTarget","scrollList","el","calcPanelSwipeStyles","marginTop","Component","ViewInfinite"],"sources":["../../../../src/components/View/ViewInfinite.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { classNames } from \"../../lib/classNames\";\nimport { transitionEvent, animationEvent } from \"../../lib/supportEvents\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { IOS, ANDROID, VKCOM } from \"../../lib/platform\";\nimport { Touch, TouchEvent } from \"../Touch/Touch\";\nimport { HasPlatform } from \"../../types\";\nimport { withPlatform } from \"../../hoc/withPlatform\";\nimport { withContext } from \"../../hoc/withContext\";\nimport {\n  ConfigProviderContext,\n  ConfigProviderContextInterface,\n} from \"../ConfigProvider/ConfigProviderContext\";\nimport { SplitColContext, SplitColContextProps } from \"../SplitCol/SplitCol\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { canUseDOM, withDOM, DOMProps } from \"../../lib/dom\";\nimport {\n  ScrollContext,\n  ScrollContextInterface,\n} from \"../AppRoot/ScrollContext\";\nimport { NavTransitionProvider } from \"../NavTransitionContext/NavTransitionContext\";\nimport { getNavId, NavIdProps } from \"../../lib/getNavId\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { swipeBackExcluded } from \"./utils\";\nimport \"./View.css\";\n\nconst warn = warnOnce(\"ViewInfinite\");\n\nenum SwipeBackResults {\n  fail = 1,\n  success,\n}\n\ninterface Scrolls {\n  [index: string]: Array<number | undefined>;\n}\n\ninterface ViewsScrolls {\n  [index: string]: Scrolls;\n}\n\ntype TransitionEventHandler = (e?: TransitionEvent) => void;\n\nlet scrollsCache: ViewsScrolls = {};\n\nexport type TransitionParams = { from: string | null; to: string | null };\n\nexport interface ViewInfiniteProps\n  extends React.HTMLAttributes<HTMLElement>,\n    HasPlatform,\n    NavIdProps {\n  activePanel: string;\n  popout?: React.ReactNode;\n  modal?: React.ReactNode;\n  onTransition?(params: TransitionParams & { isBack: boolean }): void;\n  /**\n   * callback свайпа назад\n   */\n  onSwipeBack?(): void;\n  /**\n   * callback начала анимации свайпа назад.\n   */\n  onSwipeBackStart?(): void;\n  /**\n   * callback завершения анимации отмененного пользователем свайпа\n   */\n  onSwipeBackCancel?(): void;\n  history?: string[];\n  isBackCheck?(params: TransitionParams): boolean;\n  /**\n   * @ignore\n   */\n  splitCol?: SplitColContextProps;\n  /**\n   * @ignore\n   */\n  configProvider?: ConfigProviderContextInterface;\n  /**\n   * @ignore\n   */\n  scroll?: ScrollContextInterface;\n}\n\nexport interface ViewInfiniteState {\n  animated: boolean;\n\n  visiblePanels: Array<string | null>;\n  activePanel: string | null;\n  isBack?: boolean;\n  prevPanel: string | null;\n  nextPanel: string | null;\n\n  swipingBack: boolean;\n  swipebackStartX: number;\n  swipeBackShift: number;\n  swipeBackNextPanel: string | null;\n  swipeBackPrevPanel: string | null;\n  swipeBackResult: SwipeBackResults | null;\n\n  browserSwipe: boolean;\n}\n\nclass ViewInfiniteComponent extends React.Component<\n  ViewInfiniteProps & DOMProps,\n  ViewInfiniteState\n> {\n  constructor(props: ViewInfiniteProps) {\n    super(props);\n\n    this.state = {\n      animated: false,\n\n      visiblePanels: [props.activePanel],\n      activePanel: props.activePanel,\n      isBack: undefined,\n      prevPanel: null,\n      nextPanel: null,\n\n      swipingBack: false,\n      swipebackStartX: 0,\n      swipeBackShift: 0,\n      swipeBackNextPanel: null,\n      swipeBackPrevPanel: null,\n      swipeBackResult: null,\n\n      browserSwipe: false,\n    };\n  }\n\n  static defaultProps: Partial<ViewInfiniteProps> = {\n    history: [],\n  };\n\n  private scrolls = scrollsCache[getNavId(this.props, warn) as string] || {};\n  private transitionFinishTimeout: number | undefined = undefined;\n  private animationFinishTimeout: number | undefined = undefined;\n\n  get document() {\n    return this.props.document;\n  }\n\n  get window() {\n    return this.props.window;\n  }\n\n  get panels() {\n    return React.Children.toArray(this.props.children) as React.ReactElement[];\n  }\n\n  panelNodes: { [id: string]: HTMLDivElement | null } = {};\n\n  componentWillUnmount() {\n    const id = getNavId(this.props);\n    if (id) {\n      scrollsCache[id] = this.scrolls;\n    }\n    if (this.animationFinishTimeout) {\n      clearTimeout(this.animationFinishTimeout);\n    }\n  }\n\n  componentDidUpdate(\n    prevProps: ViewInfiniteProps,\n    prevState: ViewInfiniteState\n  ) {\n    this.props.popout && !prevProps.popout && this.blurActiveElement();\n    this.props.modal && !prevProps.modal && this.blurActiveElement();\n\n    // Нужен переход\n    if (\n      prevProps.activePanel !== this.props.activePanel &&\n      !prevState.swipingBack &&\n      !prevState.browserSwipe\n    ) {\n      let isBack = false;\n\n      if (this.props.isBackCheck) {\n        isBack = this.props.isBackCheck({\n          from: prevProps.activePanel,\n          to: this.props.activePanel,\n        });\n      } else {\n        const firstLayerId = this.panels\n          .map((panel) => getNavId(panel.props, warn))\n          .find(\n            (id) =>\n              id === prevProps.activePanel || id === this.props.activePanel\n          );\n        isBack = firstLayerId === this.props.activePanel;\n      }\n\n      this.blurActiveElement();\n\n      const prevScrolls = this.scrolls[prevProps.activePanel] || [];\n      const scrolls = {\n        ...this.scrolls,\n        [prevProps.activePanel]: [\n          ...prevScrolls,\n          this.props.scroll?.getScroll().y,\n        ],\n      };\n      this.scrolls = scrolls;\n\n      if (this.shouldDisableTransitionMotion()) {\n        this.flushTransition(prevProps.activePanel, isBack);\n      } else {\n        this.setState({\n          visiblePanels: [prevProps.activePanel, this.props.activePanel],\n          prevPanel: prevProps.activePanel,\n          nextPanel: this.props.activePanel,\n          activePanel: null,\n          animated: true,\n          isBack,\n        });\n\n        // Фолбек анимации перехода\n        if (!animationEvent.supported) {\n          if (this.animationFinishTimeout) {\n            clearTimeout(this.animationFinishTimeout);\n          }\n          this.animationFinishTimeout = setTimeout(\n            this.transitionEndHandler,\n            this.props.platform === ANDROID || this.props.platform === VKCOM\n              ? 300\n              : 600\n          );\n        }\n      }\n    }\n\n    // Закончилась анимация свайпа назад\n    if (\n      prevProps.activePanel !== this.props.activePanel &&\n      prevState.swipingBack\n    ) {\n      const nextPanel = this.state.swipeBackNextPanel;\n      const prevPanel = this.state.swipeBackPrevPanel;\n      let scrollPosition: undefined | number = undefined;\n\n      this.scrolls = {\n        ...this.scrolls,\n      };\n\n      if (prevPanel !== null) {\n        const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(\n          0,\n          -1\n        );\n        this.scrolls[prevPanel] = prevPanelScrolls;\n      }\n      if (nextPanel !== null) {\n        const newPanelScrolls = [...(this.scrolls[nextPanel] || [])];\n        scrollPosition = newPanelScrolls.pop();\n        this.scrolls[nextPanel] = newPanelScrolls;\n      }\n\n      this.setState(\n        {\n          swipeBackPrevPanel: null,\n          swipeBackNextPanel: null,\n          swipingBack: false,\n          swipeBackResult: null,\n          swipebackStartX: 0,\n          swipeBackShift: 0,\n          activePanel: nextPanel,\n          visiblePanels: [nextPanel],\n        },\n        () => {\n          this.props.scroll?.scrollTo(0, scrollPosition);\n          prevProps.onTransition &&\n            prevProps.onTransition({\n              isBack: true,\n              from: prevPanel,\n              to: nextPanel,\n            });\n        }\n      );\n    }\n\n    // Начался свайп назад\n    if (!prevState.swipingBack && this.state.swipingBack) {\n      this.props.onSwipeBackStart && this.props.onSwipeBackStart();\n    }\n\n    // Началась анимация завершения свайпа назад.\n    if (!prevState.swipeBackResult && this.state.swipeBackResult) {\n      this.waitTransitionFinish(\n        this.pickPanel(this.state.swipeBackNextPanel),\n        this.swipingBackTransitionEndHandler\n      );\n    }\n\n    // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n    if (\n      prevState.swipeBackResult === SwipeBackResults.fail &&\n      !this.state.swipeBackResult &&\n      this.state.activePanel !== null\n    ) {\n      const newPanelScrolls = [...(this.scrolls[this.state.activePanel] || [])];\n      const scrollPosition = newPanelScrolls.pop();\n      this.scrolls = {\n        ...this.scrolls,\n        [this.state.activePanel]: newPanelScrolls,\n      };\n\n      this.props.scroll?.scrollTo(0, scrollPosition);\n    }\n\n    // Закончился Safari свайп\n    if (\n      prevProps.activePanel !== this.props.activePanel &&\n      this.state.browserSwipe\n    ) {\n      this.setState({\n        browserSwipe: false,\n        nextPanel: null,\n        prevPanel: null,\n        animated: false,\n        visiblePanels: [this.props.activePanel],\n        activePanel: this.props.activePanel,\n      });\n    }\n  }\n\n  shouldDisableTransitionMotion(): boolean {\n    return (\n      this.props.configProvider?.transitionMotionEnabled === false ||\n      !this.props.splitCol?.animate\n    );\n  }\n\n  waitTransitionFinish(\n    elem: HTMLElement | null | undefined,\n    eventHandler: TransitionEventHandler\n  ): void {\n    if (transitionEvent.supported && transitionEvent.name && elem) {\n      elem.removeEventListener(\n        transitionEvent.name as keyof HTMLElementEventMap,\n        eventHandler as EventListener\n      );\n      elem.addEventListener(\n        transitionEvent.name as keyof HTMLElementEventMap,\n        eventHandler as EventListener\n      );\n    } else {\n      if (this.transitionFinishTimeout) {\n        clearTimeout(this.transitionFinishTimeout);\n      }\n\n      this.transitionFinishTimeout = setTimeout(\n        eventHandler,\n        this.props.platform === ANDROID || this.props.platform === VKCOM\n          ? 300\n          : 600\n      );\n    }\n  }\n\n  blurActiveElement(): void {\n    if (typeof this.window !== \"undefined\" && this.document?.activeElement) {\n      (this.document.activeElement as HTMLElement).blur();\n    }\n  }\n\n  pickPanel(id: string | null) {\n    if (id === null) {\n      return undefined;\n    }\n    return this.panelNodes[id];\n  }\n\n  flushTransition(prevPanel: string, isBack: boolean) {\n    const activePanel = this.props.activePanel;\n\n    const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(0, -1);\n    const newPanelScrolls = [...(this.scrolls[activePanel] || [])];\n    const scrollPosition = isBack ? newPanelScrolls.pop() : 0;\n    if (isBack) {\n      this.scrolls = {\n        ...this.scrolls,\n        [prevPanel]: prevPanelScrolls,\n        [activePanel]: newPanelScrolls,\n      };\n    }\n\n    this.setState(\n      {\n        prevPanel: null,\n        nextPanel: null,\n        visiblePanels: [activePanel],\n        activePanel: activePanel,\n        animated: false,\n        isBack: undefined,\n      },\n      () => {\n        this.props.scroll?.scrollTo(0, isBack ? scrollPosition : 0);\n        this.props.onTransition &&\n          this.props.onTransition({ isBack, from: prevPanel, to: activePanel });\n      }\n    );\n  }\n\n  transitionEndHandler = (e?: React.AnimationEvent): void => {\n    if (\n      (!e ||\n        [\n          \"vkui-animation-ios-next-forward\",\n          \"vkui-animation-ios-prev-back\",\n          \"vkui-animation-view-next-forward\",\n          \"vkui-animation-view-prev-back\",\n        ].includes(e.animationName)) &&\n      this.state.prevPanel !== null\n    ) {\n      this.flushTransition(this.state.prevPanel, Boolean(this.state.isBack));\n    }\n  };\n\n  swipingBackTransitionEndHandler = (e?: TransitionEvent): void => {\n    // indexOf because of vendor prefixes in old browsers\n    if (\n      !e ||\n      (e.propertyName.includes(\"transform\") &&\n        e.target === this.pickPanel(this.state.swipeBackNextPanel))\n    ) {\n      switch (this.state.swipeBackResult) {\n        case SwipeBackResults.fail:\n          this.onSwipeBackCancel();\n          break;\n        case SwipeBackResults.success:\n          this.onSwipeBackSuccess();\n      }\n    }\n  };\n\n  onSwipeBackSuccess(): void {\n    this.props.onSwipeBack && this.props.onSwipeBack();\n  }\n\n  onSwipeBackCancel(): void {\n    this.props.onSwipeBackCancel && this.props.onSwipeBackCancel();\n    this.setState({\n      swipeBackPrevPanel: null,\n      swipeBackNextPanel: null,\n      swipingBack: false,\n      swipeBackResult: null,\n      swipebackStartX: 0,\n      swipeBackShift: 0,\n    });\n  }\n\n  onMoveX = (e: TouchEvent): void => {\n    if (swipeBackExcluded(e) || !this.window) {\n      return;\n    }\n\n    const { platform, configProvider } = this.props;\n\n    if (\n      platform === IOS &&\n      !configProvider?.isWebView &&\n      (e.startX <= 70 || e.startX >= this.window.innerWidth - 70) &&\n      !this.state.browserSwipe\n    ) {\n      this.setState({ browserSwipe: true });\n    }\n\n    if (\n      platform === IOS &&\n      configProvider?.isWebView &&\n      this.props.onSwipeBack\n    ) {\n      if (this.state.animated && e.startX <= 70) {\n        return;\n      }\n\n      if (\n        e.startX <= 70 &&\n        !this.state.swipingBack &&\n        (this.props.history?.length ?? 0) > 1\n      ) {\n        if (this.state.activePanel !== null) {\n          const prevScrolls = this.scrolls[this.state.activePanel] || [];\n          this.scrolls = {\n            ...this.scrolls,\n            [this.state.activePanel]: [\n              ...prevScrolls,\n              this.props.scroll?.getScroll().y,\n            ],\n          };\n        }\n\n        this.setState({\n          swipingBack: true,\n          swipebackStartX: e.startX,\n          swipeBackPrevPanel: this.state.activePanel,\n          swipeBackNextPanel: this.props.history!.slice(-2)[0],\n        });\n      }\n      if (this.state.swipingBack) {\n        let swipeBackShift;\n        if (e.shiftX < 0) {\n          swipeBackShift = 0;\n        } else if (\n          e.shiftX >\n          this.window.innerWidth - this.state.swipebackStartX\n        ) {\n          swipeBackShift = this.window.innerWidth;\n        } else {\n          swipeBackShift = e.shiftX;\n        }\n        this.setState({ swipeBackShift });\n      }\n    }\n  };\n\n  onEnd = (e: TouchEvent): void => {\n    if (this.state.swipingBack && this.window) {\n      const speed = (this.state.swipeBackShift / e.duration) * 1000;\n      if (this.state.swipeBackShift === 0) {\n        this.onSwipeBackCancel();\n      } else if (this.state.swipeBackShift >= this.window.innerWidth) {\n        this.onSwipeBackSuccess();\n      } else if (\n        speed > 250 ||\n        this.state.swipebackStartX + this.state.swipeBackShift >\n          this.window.innerWidth / 2\n      ) {\n        this.setState({ swipeBackResult: SwipeBackResults.success });\n      } else {\n        this.setState({ swipeBackResult: SwipeBackResults.fail });\n      }\n    }\n  };\n\n  calcPanelSwipeStyles(panelId: string | undefined): React.CSSProperties {\n    if (!canUseDOM || !this.window) {\n      return {};\n    }\n\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if ((!isPrev && !isNext) || this.state.swipeBackResult) {\n      return {};\n    }\n\n    let prevPanelTranslate = `${this.state.swipeBackShift}px`;\n    let nextPanelTranslate = `${\n      -50 + (this.state.swipeBackShift * 100) / this.window.innerWidth / 2\n    }%`;\n    let prevPanelShadow =\n      (0.3 * (this.window.innerWidth - this.state.swipeBackShift)) /\n      this.window.innerWidth;\n\n    if (this.state.swipeBackResult) {\n      return isPrev\n        ? { boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})` }\n        : {};\n    }\n\n    if (isNext) {\n      return {\n        transform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n      };\n    }\n    if (isPrev) {\n      return {\n        transform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})`,\n      };\n    }\n\n    return {};\n  }\n\n  render() {\n    const {\n      popout,\n      modal,\n      platform,\n      activePanel: _1,\n      splitCol,\n      configProvider,\n      history,\n      id,\n      nav,\n      onTransition,\n      onSwipeBack,\n      onSwipeBackStart,\n      onSwipeBackCancel,\n      window,\n      document,\n      scroll,\n      isBackCheck,\n      ...restProps\n    } = this.props;\n    const {\n      prevPanel,\n      nextPanel,\n      activePanel,\n      isBack,\n      animated,\n      swipeBackPrevPanel,\n      swipeBackNextPanel,\n      swipeBackResult,\n      swipingBack,\n    } = this.state;\n\n    const hasPopout = !!popout;\n    const hasModal = !!modal;\n\n    const panels = this.panels\n      .filter((panel) => {\n        const panelId = getNavId(panel.props, warn);\n\n        return (\n          (panelId !== undefined &&\n            this.state.visiblePanels.includes(panelId)) ||\n          panelId === swipeBackPrevPanel ||\n          panelId === swipeBackNextPanel\n        );\n      })\n      .sort((panel) => {\n        const panelId = getNavId(panel.props, warn);\n        const isPrevPanel =\n          panelId === prevPanel || panelId === swipeBackPrevPanel;\n        const isNextPanel =\n          panelId === nextPanel || panelId === swipeBackNextPanel;\n\n        if (isNextPanel) {\n          return swipingBack || this.state.isBack ? -1 : 1;\n        }\n\n        if (isPrevPanel) {\n          return swipingBack || this.state.isBack ? 1 : -1;\n        }\n\n        return 0;\n      });\n\n    const disableAnimation = this.shouldDisableTransitionMotion();\n\n    const modifiers = {\n      \"View--animated\": !disableAnimation && this.state.animated,\n      \"View--swiping-back\": !disableAnimation && this.state.swipingBack,\n      \"View--no-motion\": disableAnimation,\n    };\n\n    return (\n      <Touch\n        Component=\"section\"\n        {...restProps}\n        vkuiClass={classNames(getClassName(\"View\", platform), modifiers)}\n        onMoveX={this.onMoveX}\n        onEnd={this.onEnd}\n      >\n        <div vkuiClass=\"View__panels\">\n          {panels.map((panel: React.ReactElement) => {\n            const panelId = getNavId(panel.props, warn);\n            const isPrev =\n              panelId === prevPanel || panelId === swipeBackPrevPanel;\n            const compensateScroll =\n              isPrev ||\n              panelId === swipeBackNextPanel ||\n              (panelId === nextPanel && isBack);\n            const isTransitionTarget =\n              animated && panelId === (isBack ? prevPanel : nextPanel);\n            const scrollList = (panelId && this.scrolls[panelId]) || [];\n            const scroll = scrollList[scrollList.length - 1] || 0;\n\n            return (\n              <div\n                vkuiClass={classNames(\n                  \"View__panel\",\n                  panelId === activePanel && \"View__panel--active\",\n                  panelId === prevPanel && \"View__panel--prev\",\n                  panelId === nextPanel && \"View__panel--next\",\n                  panelId === swipeBackPrevPanel &&\n                    \"View__panel--swipe-back-prev\",\n                  panelId === swipeBackNextPanel &&\n                    \"View__panel--swipe-back-next\",\n                  swipeBackResult === SwipeBackResults.success &&\n                    \"View__panel--swipe-back-success\",\n                  swipeBackResult === SwipeBackResults.fail &&\n                    \"View__panel--swipe-back-failed\"\n                )}\n                onAnimationEnd={\n                  isTransitionTarget ? this.transitionEndHandler : undefined\n                }\n                ref={(el) =>\n                  panelId !== undefined && (this.panelNodes[panelId] = el)\n                }\n                style={this.calcPanelSwipeStyles(panelId)}\n                key={panelId}\n              >\n                <div\n                  vkuiClass=\"View__panel-in\"\n                  style={{ marginTop: compensateScroll ? -scroll : undefined }}\n                >\n                  <NavTransitionProvider\n                    entering={\n                      panelId === nextPanel || panelId === swipeBackNextPanel\n                    }\n                  >\n                    {panel}\n                  </NavTransitionProvider>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <AppRootPortal>\n          {hasPopout && <div vkuiClass=\"View__popout\">{popout}</div>}\n          {hasModal && <div vkuiClass=\"View__modal\">{modal}</div>}\n        </AppRootPortal>\n      </Touch>\n    );\n  }\n}\n\nexport const ViewInfinite = withContext(\n  withContext(\n    withContext(\n      withPlatform(withDOM<ViewInfiniteProps>(ViewInfiniteComponent)),\n      SplitColContext,\n      \"splitCol\"\n    ),\n    ConfigProviderContext,\n    \"configProvider\"\n  ),\n  ScrollContext,\n  \"scroll\"\n);\n"],"mappings":"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"}