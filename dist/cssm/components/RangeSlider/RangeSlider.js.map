{"version":3,"file":"RangeSlider.js","names":["React","clamp","UniversalSlider","RangeSlider","onChange","defaultValue","min","max","step","props","isControlled","Boolean","value","useState","localValue","setValue","start","end","useMemo","handleChange","useCallback","nextValue","event","disabled"],"sources":["../../../../src/components/RangeSlider/RangeSlider.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { clamp } from \"../../helpers/math\";\nimport { UniversalSlider, UniversalSliderProps } from \"./UniversalSlider\";\nimport { TouchEvent } from \"../Touch/Touch\";\n\nexport type Value = [number, number];\nexport type RangeSliderProps = UniversalSliderProps<Value>;\n\n/**\n * @see https://vkcom.github.io/VKUI/#/RangeSlider\n */\nexport const RangeSlider = ({\n  onChange,\n  defaultValue,\n  min = 0,\n  max = 100,\n  step = 0,\n  ...props\n}: RangeSliderProps) => {\n  const isControlled = Boolean(props.value);\n\n  const [localValue, setValue] = React.useState(\n    defaultValue || ([min, max] as Value)\n  );\n  const [start, end] = props.value || localValue;\n  const value = React.useMemo(\n    () => [clamp(start, min, max), clamp(end, min, max)] as Value,\n    [end, max, min, start]\n  );\n\n  const handleChange: RangeSliderProps[\"onChange\"] = React.useCallback(\n    (nextValue: Value, event: TouchEvent) => {\n      if (\n        props.disabled ||\n        (value[0] === nextValue[0] && value[1] === nextValue[1])\n      ) {\n        return;\n      }\n      !isControlled && setValue(nextValue);\n      onChange && onChange(nextValue, event);\n    },\n    [props.disabled, value, isControlled, onChange]\n  );\n\n  return (\n    <UniversalSlider\n      {...props}\n      value={value}\n      onChange={handleChange}\n      min={min}\n      max={max}\n      step={step}\n    />\n  );\n};\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,KAAK;AACd,SAASC,eAAe;AAMxB;AACA;AACA;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAW,OAOA;EAAA,IANtBC,QAAQ,QAARA,QAAQ;IACRC,YAAY,QAAZA,YAAY;IAAA,gBACZC,GAAG;IAAHA,GAAG,yBAAG,CAAC;IAAA,gBACPC,GAAG;IAAHA,GAAG,yBAAG,GAAG;IAAA,iBACTC,IAAI;IAAJA,IAAI,0BAAG,CAAC;IACLC,KAAK;EAER,IAAMC,YAAY,GAAGC,OAAO,CAACF,KAAK,CAACG,KAAK,CAAC;EAEzC,sBAA+BZ,KAAK,CAACa,QAAQ,CAC3CR,YAAY,IAAK,CAACC,GAAG,EAAEC,GAAG,CAAW,CACtC;IAAA;IAFMO,UAAU;IAAEC,QAAQ;EAG3B,YAAqBN,KAAK,CAACG,KAAK,IAAIE,UAAU;IAAA;IAAvCE,KAAK;IAAEC,GAAG;EACjB,IAAML,KAAK,GAAGZ,KAAK,CAACkB,OAAO,CACzB;IAAA,OAAM,CAACjB,KAAK,CAACe,KAAK,EAAEV,GAAG,EAAEC,GAAG,CAAC,EAAEN,KAAK,CAACgB,GAAG,EAAEX,GAAG,EAAEC,GAAG,CAAC,CAAC;EAAA,CAAS,EAC7D,CAACU,GAAG,EAAEV,GAAG,EAAED,GAAG,EAAEU,KAAK,CAAC,CACvB;EAED,IAAMG,YAA0C,GAAGnB,KAAK,CAACoB,WAAW,CAClE,UAACC,SAAgB,EAAEC,KAAiB,EAAK;IACvC,IACEb,KAAK,CAACc,QAAQ,IACbX,KAAK,CAAC,CAAC,CAAC,KAAKS,SAAS,CAAC,CAAC,CAAC,IAAIT,KAAK,CAAC,CAAC,CAAC,KAAKS,SAAS,CAAC,CAAC,CAAE,EACxD;MACA;IACF;IACA,CAACX,YAAY,IAAIK,QAAQ,CAACM,SAAS,CAAC;IACpCjB,QAAQ,IAAIA,QAAQ,CAACiB,SAAS,EAAEC,KAAK,CAAC;EACxC,CAAC,EACD,CAACb,KAAK,CAACc,QAAQ,EAAEX,KAAK,EAAEF,YAAY,EAAEN,QAAQ,CAAC,CAChD;EAED,OACE,oBAAC,eAAe,eACVK,KAAK;IACT,KAAK,EAAEG,KAAM;IACb,QAAQ,EAAEO,YAAa;IACvB,GAAG,EAAEb,GAAI;IACT,GAAG,EAAEC,GAAI;IACT,IAAI,EAAEC;EAAK,GACX;AAEN,CAAC"}