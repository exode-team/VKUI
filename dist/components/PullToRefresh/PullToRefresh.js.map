{"version":3,"file":"PullToRefresh.js","names":["React","useDOM","classNames","IOS","runTapticImpactOccurred","useIsomorphicLayoutEffect","usePlatform","useGlobalEventListener","useScroll","Touch","FixedLayout","PullToRefreshSpinner","TouchRootContext","usePrevious","useTimeout","cancelEvent","event","originalEvent","preventDefault","cancelable","stopPropagation","TOUCH_MOVE_EVENT_PARAMS","passive","PullToRefresh","children","isFetching","onRefresh","restProps","platform","scroll","document","prevIsFetching","initParams","useMemo","start","max","maxY","refreshing","positionMultiplier","useState","spinnerY","setSpinnerY","watching","setWatching","setRefreshing","canRefresh","setCanRefresh","touchDown","setTouchDown","prevTouchDown","touchY","useRef","contentShift","setContentShift","spinnerProgress","setSpinnerProgress","onWindowTouchMove","resetRefreshingState","useCallback","onRefreshingFinish","setWaitFetchingTimeout","set","clearWaitFetchingTimeout","clear","undefined","runRefreshing","prevSpinnerY","onTouchStart","e","onTouchMove","isY","shiftY","pageYOffset","getScroll","y","shift","Math","current","currentY","min","progress","abs","onTouchEnd","spinnerTransform","contentTransform","transform","WebkitTransform","opacity"],"sources":["../../../src/components/PullToRefresh/PullToRefresh.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { AnyFunction, HasPlatform } from \"../../types\";\nimport { DOMProps, useDOM } from \"../../lib/dom\";\nimport { classNames } from \"../../lib/classNames\";\nimport { IOS } from \"../../lib/platform\";\nimport { runTapticImpactOccurred } from \"../../lib/taptic\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useGlobalEventListener } from \"../../hooks/useGlobalEventListener\";\nimport { ScrollContextInterface, useScroll } from \"../AppRoot/ScrollContext\";\nimport { Touch, TouchEvent, TouchProps } from \"../Touch/Touch\";\nimport { FixedLayout } from \"../FixedLayout/FixedLayout\";\nimport { PullToRefreshSpinner } from \"./PullToRefreshSpinner\";\nimport TouchRootContext from \"../Touch/TouchContext\";\nimport { usePrevious } from \"../../hooks/usePrevious\";\nimport { useTimeout } from \"../../hooks/useTimeout\";\n\nfunction cancelEvent(event: any) {\n  if (!event) {\n    return false;\n  }\n  while (event.originalEvent) {\n    event = event.originalEvent;\n  }\n  if (event.preventDefault && event.cancelable) {\n    event.preventDefault();\n  }\n  if (event.stopPropagation) {\n    event.stopPropagation();\n  }\n  return false;\n}\n\nexport interface PullToRefreshProps extends DOMProps, TouchProps, HasPlatform {\n  /**\n   * Будет вызвана для обновления контента (прим.: функция должна быть мемоизированным коллбэком)\n   */\n  onRefresh: AnyFunction;\n  /**\n   * Определяет, выполняется ли обновление. Для скрытия спиннера после получения контента необходимо передать `false`\n   */\n  isFetching?: boolean;\n  /** @ignore */\n  scroll?: ScrollContextInterface;\n  children?: React.ReactNode;\n}\n\nconst TOUCH_MOVE_EVENT_PARAMS = {\n  cancelable: true,\n  passive: false,\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/PullToRefresh\n */\nexport const PullToRefresh = ({\n  children,\n  isFetching,\n  onRefresh,\n  ...restProps\n}: PullToRefreshProps) => {\n  const platform = usePlatform();\n  const scroll = useScroll();\n  const { document } = useDOM();\n  const prevIsFetching = usePrevious(isFetching);\n\n  const initParams = React.useMemo(\n    () => ({\n      start: platform === IOS ? -10 : -45,\n      max: platform === IOS ? 50 : 80,\n      maxY: platform === IOS ? 400 : 80,\n      refreshing: platform === IOS ? 36 : 50,\n      positionMultiplier: platform === IOS ? 0.21 : 1,\n    }),\n    [platform]\n  );\n\n  const [spinnerY, setSpinnerY] = React.useState(initParams.start);\n  const [watching, setWatching] = React.useState(false);\n  const [refreshing, setRefreshing] = React.useState(false);\n  const [canRefresh, setCanRefresh] = React.useState(false);\n  const [touchDown, setTouchDown] = React.useState(false);\n  const prevTouchDown = usePrevious(touchDown);\n\n  const touchY = React.useRef(0);\n  const [contentShift, setContentShift] = React.useState(0);\n  const [spinnerProgress, setSpinnerProgress] = React.useState(0);\n\n  const onWindowTouchMove = (event: Event) => {\n    if (refreshing) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  useGlobalEventListener(\n    document,\n    \"touchmove\",\n    onWindowTouchMove,\n    TOUCH_MOVE_EVENT_PARAMS\n  );\n\n  const resetRefreshingState = React.useCallback(() => {\n    setWatching(false);\n    setCanRefresh(false);\n    setRefreshing(false);\n    setSpinnerY(initParams.start);\n    setSpinnerProgress(0);\n    setContentShift(0);\n  }, [initParams]);\n\n  const onRefreshingFinish = React.useCallback(() => {\n    if (!touchDown) {\n      resetRefreshingState();\n    }\n  }, [touchDown, resetRefreshingState]);\n\n  const { set: setWaitFetchingTimeout, clear: clearWaitFetchingTimeout } =\n    useTimeout(onRefreshingFinish, 1000);\n\n  useIsomorphicLayoutEffect(() => {\n    if (prevIsFetching !== undefined && prevIsFetching && !isFetching) {\n      onRefreshingFinish();\n    }\n  }, [prevIsFetching, isFetching, onRefreshingFinish]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (prevIsFetching !== undefined && !prevIsFetching && isFetching) {\n      clearWaitFetchingTimeout();\n    }\n  }, [isFetching, prevIsFetching, clearWaitFetchingTimeout]);\n\n  const runRefreshing = React.useCallback(() => {\n    if (!refreshing && onRefresh) {\n      // cleanup if the consumer does not start fetching in 1s\n      setWaitFetchingTimeout();\n\n      setRefreshing(true);\n      setSpinnerY((prevSpinnerY) =>\n        platform === IOS ? prevSpinnerY : initParams.refreshing\n      );\n\n      onRefresh();\n      runTapticImpactOccurred(\"light\");\n    }\n  }, [\n    refreshing,\n    onRefresh,\n    setWaitFetchingTimeout,\n    platform,\n    initParams.refreshing,\n  ]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (prevTouchDown !== undefined && prevTouchDown && !touchDown) {\n      if (!refreshing && canRefresh) {\n        runRefreshing();\n      } else if (refreshing && !isFetching) {\n        // only iOS can start refresh before gesture end\n        resetRefreshingState();\n      } else {\n        // refreshing && isFetching: refresh in progress\n        // OR !refreshing && !canRefresh: pull was not strong enough\n        setSpinnerY(refreshing ? initParams.refreshing : initParams.start);\n        setSpinnerProgress(0);\n        setContentShift(0);\n      }\n    }\n  }, [\n    initParams,\n    prevIsFetching,\n    isFetching,\n    onRefreshingFinish,\n    prevTouchDown,\n    touchDown,\n    refreshing,\n    canRefresh,\n    runRefreshing,\n  ]);\n\n  const onTouchStart = (e: TouchEvent) => {\n    if (refreshing) {\n      cancelEvent(e);\n    }\n    setTouchDown(true);\n  };\n\n  const onTouchMove = (e: TouchEvent) => {\n    const { isY, shiftY } = e;\n    const { start, max } = initParams;\n    const pageYOffset = scroll?.getScroll().y;\n\n    if (watching && touchDown) {\n      cancelEvent(e);\n\n      const { positionMultiplier, maxY } = initParams;\n\n      const shift = Math.max(0, shiftY - touchY.current);\n\n      const currentY = Math.max(\n        start,\n        Math.min(maxY, start + shift * positionMultiplier)\n      );\n      const progress =\n        currentY > -10 ? Math.abs((currentY + 10) / max) * 80 : 0;\n\n      setSpinnerY(currentY);\n      setSpinnerProgress(Math.min(80, Math.max(0, progress)));\n      setCanRefresh(progress > 80);\n      setContentShift((currentY + 10) * 2.3);\n\n      if (progress > 85 && !refreshing && platform === IOS) {\n        runRefreshing();\n      }\n    } else if (\n      isY &&\n      pageYOffset === 0 &&\n      shiftY > 0 &&\n      !refreshing &&\n      touchDown\n    ) {\n      cancelEvent(e);\n\n      touchY.current = shiftY;\n      setWatching(true);\n      setSpinnerY(start);\n      setSpinnerProgress(0);\n    }\n  };\n\n  const onTouchEnd = () => {\n    setWatching(false);\n    setTouchDown(false);\n  };\n\n  const spinnerTransform = `translate3d(0, ${spinnerY}px, 0)`;\n  let contentTransform = \"\";\n\n  if (platform === IOS && refreshing && !touchDown) {\n    contentTransform = \"translate3d(0, 100px, 0)\";\n  } else if (platform === IOS && (contentShift || refreshing)) {\n    contentTransform = `translate3d(0, ${contentShift}px, 0)`;\n  }\n\n  return (\n    <TouchRootContext.Provider value={true}>\n      <Touch\n        {...restProps}\n        onStart={onTouchStart}\n        onMove={onTouchMove}\n        onEnd={onTouchEnd}\n        vkuiClass={classNames(\n          \"PullToRefresh\",\n          platform === IOS && \"PullToRefresh--ios\",\n          watching && \"PullToRefresh--watching\",\n          refreshing && \"PullToRefresh--refreshing\"\n        )}\n      >\n        <FixedLayout vkuiClass=\"PullToRefresh__controls\">\n          <PullToRefreshSpinner\n            style={{\n              transform: spinnerTransform,\n              WebkitTransform: spinnerTransform,\n              opacity: watching || refreshing || canRefresh ? 1 : 0,\n            }}\n            on={refreshing}\n            progress={refreshing ? undefined : spinnerProgress}\n          />\n        </FixedLayout>\n\n        <div\n          vkuiClass=\"PullToRefresh__content\"\n          style={{\n            transform: contentTransform,\n            WebkitTransform: contentTransform,\n          }}\n        >\n          {children}\n        </div>\n      </Touch>\n    </TouchRootContext.Provider>\n  );\n};\n"],"mappings":"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"}