{"version":3,"file":"PopoutRoot.js","names":["React","withAdaptivity","AppRootPortal","blurActiveElement","useDOM","useAdaptivityIsDesktop","PopoutRootComponent","popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef","restProps","document","isDesktop","useEffect","displayName","PopoutRoot"],"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { HasRootRef } from \"../../types\";\nimport { withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { blurActiveElement, useDOM } from \"../../lib/dom\";\nimport {\n  AdaptivityContextInterface,\n  AdaptivityProps,\n} from \"../AdaptivityProvider/AdaptivityContext\";\nimport { useAdaptivityIsDesktop } from \"../../hooks/useAdaptivity\";\nimport \"./PopoutRoot.css\";\n\nexport interface PopoutRootProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    AdaptivityProps,\n    HasRootRef<HTMLDivElement> {\n  popout?: React.ReactNode;\n  modal?: React.ReactNode;\n}\n\nexport const PopoutRootComponent = ({\n  popout,\n  modal,\n  viewWidth,\n  viewHeight,\n  hasMouse,\n  children,\n  getRootRef,\n  ...restProps\n}: PopoutRootProps & AdaptivityContextInterface) => {\n  const { document } = useDOM();\n\n  const isDesktop = useAdaptivityIsDesktop();\n\n  React.useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [document, popout]);\n\n  return (\n    <div {...restProps} vkuiClass=\"PopoutRoot\" ref={getRootRef}>\n      {children}\n      <AppRootPortal>\n        {!!popout && (\n          <div\n            vkuiClass={\n              isDesktop ? \"PopoutRoot--absolute\" : \"PopoutRoot__popout\"\n            }\n          >\n            {popout}\n          </div>\n        )}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = \"PopoutRoot\";\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAE9B,SAASC,cAAc;AACvB,SAASC,aAAa;AACtB,SAASC,iBAAiB,EAAEC,MAAM;AAKlC,SAASC,sBAAsB;AAW/B,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,OASoB;EAAA,IARlDC,MAAM,QAANA,MAAM;IACNC,KAAK,QAALA,KAAK;IACLC,SAAS,QAATA,SAAS;IACTC,UAAU,QAAVA,UAAU;IACVC,QAAQ,QAARA,QAAQ;IACRC,QAAQ,QAARA,QAAQ;IACRC,UAAU,QAAVA,UAAU;IACPC,SAAS;EAEZ,cAAqBV,MAAM,EAAE;IAArBW,QAAQ,WAARA,QAAQ;EAEhB,IAAMC,SAAS,GAAGX,sBAAsB,EAAE;EAE1CL,KAAK,CAACiB,SAAS,CAAC,YAAM;IACpBV,MAAM,IAAIJ,iBAAiB,CAACY,QAAQ,CAAC;EACvC,CAAC,EAAE,CAACA,QAAQ,EAAER,MAAM,CAAC,CAAC;EAEtB,OACE,wCAASO,SAAS;IAAE,SAAS,EAAC,YAAY;IAAC,GAAG,EAAED;EAAW,IACxDD,QAAQ,EACT,oBAAC,aAAa,QACX,CAAC,CAACL,MAAM,IACP;IACE,SAAS,EACPS,SAAS,GAAG,sBAAsB,GAAG;EACtC,GAEAT,MAAM,CAEV,EACA,CAAC,CAACC,KAAK,IAAI;IAAK,SAAS,EAAC;EAAmB,GAAEA,KAAK,CAAO,CAC9C,CACZ;AAEV,CAAC;AAEDF,mBAAmB,CAACY,WAAW,GAAG,YAAY;AAE9C,OAAO,IAAMC,UAAU,GAAGlB,cAAc,CAACK,mBAAmB,EAAE;EAC5DG,SAAS,EAAE,IAAI;EACfC,UAAU,EAAE,IAAI;EAChBC,QAAQ,EAAE;AACZ,CAAC,CAAC"}