{"version":3,"file":"ScrollSaver.js","names":["React","ScrollContext","useIsomorphicLayoutEffect","ScrollSaver","children","initialScroll","saveScroll","useContext","getScroll","scrollTo","y"],"sources":["../../../src/components/Epic/ScrollSaver.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\n\nexport interface ScrollSaverProps {\n  initialScroll?: number;\n  saveScroll: (scroll: number) => any;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({\n  children,\n  initialScroll,\n  saveScroll,\n}: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === \"number\") {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,aAAa;AACtB,SAASC,yBAAyB;AAQlC;AACA;AACA;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAW,OAIA;EAAA,IAHtBC,QAAQ,QAARA,QAAQ;IACRC,aAAa,QAAbA,aAAa;IACbC,UAAU,QAAVA,UAAU;EAEV,wBAAgCN,KAAK,CAACO,UAAU,CAACN,aAAa,CAAC;IAAvDO,SAAS,qBAATA,SAAS;IAAEC,QAAQ,qBAARA,QAAQ;EAC3BP,yBAAyB,CAAC,YAAM;IAC9B,IAAI,OAAOG,aAAa,KAAK,QAAQ,EAAE;MACrCI,QAAQ,CAAC,CAAC,EAAEJ,aAAa,CAAC;IAC5B;IACA,OAAO;MAAA,OAAMC,UAAU,CAACE,SAAS,EAAE,CAACE,CAAC,CAAC;IAAA;EACxC,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,oBAAC,KAAK,CAAC,QAAQ,QAAEN,QAAQ,CAAkB;AACpD,CAAC"}