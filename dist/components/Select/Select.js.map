{"version":3,"file":"Select.js","names":["NativeSelect","CustomSelect","withAdaptivity","useAdaptivity","usePlatform","Platform","VKCOM","SizeType","Paragraph","Text","Headline","SelectType","default","plain","accent","SelectTypography","selectType","children","restProps","platform","sizeY","ANDROID","Component","COMPACT","SelectComponent","hasMouse","props","options","popupDirection","renderOption","map","label","value","Select","displayName"],"sources":["../../../src/components/Select/Select.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { NativeSelect } from \"../NativeSelect/NativeSelect\";\nimport { CustomSelect, CustomSelectProps } from \"../CustomSelect/CustomSelect\";\nimport { withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Platform, VKCOM } from \"../../lib/platform\";\nimport {\n  AdaptivityContextInterface,\n  AdaptivityProps,\n  SizeType,\n} from \"../AdaptivityProvider/AdaptivityContext\";\nimport { Paragraph } from \"../Typography/Paragraph/Paragraph\";\nimport { Text } from \"../Typography/Text/Text\";\nimport { Headline } from \"../Typography/Headline/Headline\";\n\nexport const SelectType = {\n  default: \"default\",\n  plain: \"plain\",\n  accent: \"accent\",\n} as const;\n\n// TODO v5.0.0 поправить под новую адаптивность\n/**\n * @see https://vkcom.github.io/VKUI/#/SelectTypography\n */\nexport const SelectTypography = ({\n  selectType = SelectType.default,\n  children,\n  ...restProps\n}: React.PropsWithChildren<Pick<CustomSelectProps, \"selectType\">>) => {\n  const platform = usePlatform();\n  const { sizeY } = useAdaptivity();\n\n  if (selectType === SelectType.accent) {\n    return (\n      <Paragraph\n        weight={platform === Platform.ANDROID ? \"2\" : \"1\"}\n        {...restProps}\n      >\n        {children}\n      </Paragraph>\n    );\n  }\n\n  const Component =\n    platform === VKCOM || sizeY === SizeType.COMPACT ? Text : Headline;\n\n  return (\n    <Component Component=\"span\" {...restProps}>\n      {children}\n    </Component>\n  );\n};\n\nexport interface SelectProps extends CustomSelectProps, AdaptivityProps {}\n\nconst SelectComponent = ({\n  hasMouse,\n  ...props\n}: SelectProps & AdaptivityContextInterface) => {\n  // Use custom select if device has connected a mouse\n  if (hasMouse) {\n    const { children, ...restProps } = props;\n\n    return <CustomSelect {...restProps} />;\n  }\n\n  const { options = [], popupDirection, renderOption, ...restProps } = props;\n\n  return (\n    <NativeSelect {...restProps}>\n      {options.map(({ label, value }) => (\n        <option value={value} key={`${value}`}>\n          {label}\n        </option>\n      ))}\n    </NativeSelect>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Select\n */\nexport const Select = withAdaptivity(SelectComponent, {\n  hasMouse: true,\n});\n\nSelect.displayName = \"Select\";\n"],"mappings":";;;;;;;AACA,SAASA,YAAY;AACrB,SAASC,YAAY;AACrB,SAASC,cAAc;AACvB,SAASC,aAAa;AACtB,SAASC,WAAW;AACpB,SAASC,QAAQ,EAAEC,KAAK;AACxB,SAGEC,QAAQ;AAEV,SAASC,SAAS;AAClB,SAASC,IAAI;AACb,SAASC,QAAQ;AAEjB,OAAO,IAAMC,UAAU,GAAG;EACxBC,OAAO,EAAE,SAAS;EAClBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE;AACV,CAAU;;AAEV;AACA;AACA;AACA;AACA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,OAIyC;EAAA,2BAHpEC,UAAU;IAAVA,UAAU,gCAAGL,UAAU,CAACC,OAAO;IAC/BK,QAAQ,QAARA,QAAQ;IACLC,SAAS;EAEZ,IAAMC,QAAQ,GAAGf,WAAW,EAAE;EAC9B,qBAAkBD,aAAa,EAAE;IAAzBiB,KAAK,kBAALA,KAAK;EAEb,IAAIJ,UAAU,KAAKL,UAAU,CAACG,MAAM,EAAE;IACpC,OACE,oBAAC,SAAS;MACR,MAAM,EAAEK,QAAQ,KAAKd,QAAQ,CAACgB,OAAO,GAAG,GAAG,GAAG;IAAI,GAC9CH,SAAS,GAEZD,QAAQ,CACC;EAEhB;EAEA,IAAMK,SAAS,GACbH,QAAQ,KAAKb,KAAK,IAAIc,KAAK,KAAKb,QAAQ,CAACgB,OAAO,GAAGd,IAAI,GAAGC,QAAQ;EAEpE,OACE,oBAAC,SAAS;IAAC,SAAS,EAAC;EAAM,GAAKQ,SAAS,GACtCD,QAAQ,CACC;AAEhB,CAAC;AAID,IAAMO,eAAe,GAAG,SAAlBA,eAAe,QAG2B;EAAA,IAF9CC,QAAQ,SAARA,QAAQ;IACLC,KAAK;EAER;EACA,IAAID,QAAQ,EAAE;IACZ,IAAQR,QAAQ,GAAmBS,KAAK,CAAhCT,QAAQ;MAAKC,UAAS,4BAAKQ,KAAK;IAExC,OAAO,oBAAC,YAAY,EAAKR,UAAS,CAAI;EACxC;EAEA,qBAAqEQ,KAAK,CAAlEC,OAAO;IAAPA,OAAO,+BAAG,EAAE;IAAEC,cAAc,GAAiCF,KAAK,CAApDE,cAAc;IAAEC,YAAY,GAAmBH,KAAK,CAApCG,YAAY;IAAKX,SAAS,4BAAKQ,KAAK;EAE1E,OACE,oBAAC,YAAY,EAAKR,SAAS,EACxBS,OAAO,CAACG,GAAG,CAAC;IAAA,IAAGC,KAAK,SAALA,KAAK;MAAEC,KAAK,SAALA,KAAK;IAAA,OAC1B;MAAQ,KAAK,EAAEA,KAAM;MAAC,GAAG,YAAKA,KAAK;IAAG,GACnCD,KAAK,CACC;EAAA,CACV,CAAC,CACW;AAEnB,CAAC;;AAED;AACA;AACA;AACA,OAAO,IAAME,MAAM,GAAG/B,cAAc,CAACsB,eAAe,EAAE;EACpDC,QAAQ,EAAE;AACZ,CAAC,CAAC;AAEFQ,MAAM,CAACC,WAAW,GAAG,QAAQ"}