{"version":3,"file":"Group.js","names":["React","IOS","classNames","usePlatform","Spacing","Separator","hasReactNode","Caption","warnOnce","withAdaptivity","SizeType","ModalRootContext","warn","GroupComponent","header","description","children","separator","getRootRef","mode","padding","sizeX","innerClassName","tabIndexProp","tabIndex","restProps","useContext","isInsideModal","platform","computedMode","COMPACT","isTabPanel","role","process","env","NODE_ENV","undefined","separatorElement","separatorClassName","join","Group","displayName"],"sources":["../../../src/components/Group/Group.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { IOS } from \"../../lib/platform\";\nimport { classNames } from \"../../lib/classNames\";\nimport { HasRootRef } from \"../../types\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Spacing } from \"../Spacing/Spacing\";\nimport { Separator } from \"../Separator/Separator\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { Caption } from \"../Typography/Caption/Caption\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport {\n  withAdaptivity,\n  AdaptivityProps,\n  SizeType,\n} from \"../../hoc/withAdaptivity\";\nimport { ModalRootContext } from \"../ModalRoot/ModalRootContext\";\nimport \"./Group.css\";\n\nexport interface GroupProps\n  extends HasRootRef<HTMLElement>,\n    React.HTMLAttributes<HTMLElement>,\n    AdaptivityProps {\n  header?: React.ReactNode;\n  description?: React.ReactNode;\n  /**\n    show - разделитель всегда показывается,\n    hide – разделитель всегда спрятан,\n    auto – разделитель рисуется автоматически между соседними группами.\n   */\n  separator?: \"show\" | \"hide\" | \"auto\";\n  /**\n   * Режим отображения. Если установлен 'card', выглядит как карточка c\n   * обводкой и внешними отступами. Если 'plain' — без отступов и обводки.\n   * По умолчанию режим отображения зависит от `sizeX`. В модальных окнах\n   * по умолчанию 'plain'.\n   */\n  mode?: \"plain\" | \"card\";\n  /**\n   * Отвечает за отступы вокруг контента в режиме 'card'.\n   */\n  padding?: \"s\" | \"m\";\n  children?: React.ReactNode;\n  innerClassName?: string;\n}\n\nconst warn = warnOnce(\"TabsItem\");\n\nconst GroupComponent = ({\n  header,\n  description,\n  children,\n  separator = \"auto\",\n  getRootRef,\n  mode,\n  padding = \"m\",\n  sizeX,\n  innerClassName,\n  tabIndex: tabIndexProp,\n  ...restProps\n}: GroupProps) => {\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const platform = usePlatform();\n\n  let computedMode: GroupProps[\"mode\"] = mode;\n\n  if (!mode) {\n    computedMode =\n      sizeX === SizeType.COMPACT || isInsideModal ? \"plain\" : \"card\";\n  }\n\n  const isTabPanel = restProps.role === \"tabpanel\";\n\n  if (\n    process.env.NODE_ENV === \"development\" &&\n    isTabPanel &&\n    (!restProps[\"aria-controls\"] || !restProps[\"id\"])\n  ) {\n    warn(\n      'При использовании роли \"tabpanel\" необходимо задать значение свойств \"aria-controls\" и \"id\"'\n    );\n  }\n\n  const tabIndex = isTabPanel && tabIndexProp === undefined ? 0 : tabIndexProp;\n\n  let separatorElement = null;\n\n  if (separator !== \"hide\") {\n    const separatorClassName = classNames(\n      \"Group__separator\",\n      separator === \"show\" && \"Group__separator--force\"\n    );\n    separatorElement =\n      computedMode === \"card\" ? (\n        <Spacing vkuiClass={separatorClassName} size={16} />\n      ) : (\n        <Separator vkuiClass={separatorClassName} />\n      );\n  }\n\n  return (\n    <section\n      {...restProps}\n      tabIndex={tabIndex}\n      ref={getRootRef}\n      vkuiClass={classNames(\n        \"Group\",\n        platform === IOS && \"Group--ios\",\n        // TODO v5.0.0 Новая адаптивность\n        `Group--sizeX-${sizeX}`,\n        `Group--${computedMode}`,\n        `Group--padding-${padding}`\n      )}\n    >\n      <div vkuiClass={[ 'Group__inner', innerClassName ].join(' ')}>\n        {header}\n        {children}\n        {hasReactNode(description) && (\n          <Caption vkuiClass=\"Group__description\">{description}</Caption>\n        )}\n      </div>\n      {separatorElement}\n    </section>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Group\n */\nexport const Group = withAdaptivity(GroupComponent, { sizeX: true });\n\nGroup.displayName = \"Group\";\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,GAAG;AACZ,SAASC,UAAU;AAEnB,SAASC,WAAW;AACpB,SAASC,OAAO;AAChB,SAASC,SAAS;AAClB,SAASC,YAAY;AACrB,SAASC,OAAO;AAChB,SAASC,QAAQ;AACjB,SACEC,cAAc,EAEdC,QAAQ;AAEV,SAASC,gBAAgB;AA8BzB,IAAMC,IAAI,GAAGJ,QAAQ,CAAC,UAAU,CAAC;AAEjC,IAAMK,cAAc,GAAG,SAAjBA,cAAc,OAYF;EAAA,IAXhBC,MAAM,QAANA,MAAM;IACNC,WAAW,QAAXA,WAAW;IACXC,QAAQ,QAARA,QAAQ;IAAA,sBACRC,SAAS;IAATA,SAAS,+BAAG,MAAM;IAClBC,UAAU,QAAVA,UAAU;IACVC,IAAI,QAAJA,IAAI;IAAA,oBACJC,OAAO;IAAPA,OAAO,6BAAG,GAAG;IACbC,KAAK,QAALA,KAAK;IACLC,cAAc,QAAdA,cAAc;IACJC,YAAY,QAAtBC,QAAQ;IACLC,SAAS;EAEZ,wBAA0BzB,KAAK,CAAC0B,UAAU,CAACf,gBAAgB,CAAC;IAApDgB,aAAa,qBAAbA,aAAa;EACrB,IAAMC,QAAQ,GAAGzB,WAAW,EAAE;EAE9B,IAAI0B,YAAgC,GAAGV,IAAI;EAE3C,IAAI,CAACA,IAAI,EAAE;IACTU,YAAY,GACVR,KAAK,KAAKX,QAAQ,CAACoB,OAAO,IAAIH,aAAa,GAAG,OAAO,GAAG,MAAM;EAClE;EAEA,IAAMI,UAAU,GAAGN,SAAS,CAACO,IAAI,KAAK,UAAU;EAEhD,IACEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,IACtCJ,UAAU,KACT,CAACN,SAAS,CAAC,eAAe,CAAC,IAAI,CAACA,SAAS,CAAC,IAAI,CAAC,CAAC,EACjD;IACAb,IAAI,CACF,6FAA6F,CAC9F;EACH;EAEA,IAAMY,QAAQ,GAAGO,UAAU,IAAIR,YAAY,KAAKa,SAAS,GAAG,CAAC,GAAGb,YAAY;EAE5E,IAAIc,gBAAgB,GAAG,IAAI;EAE3B,IAAIpB,SAAS,KAAK,MAAM,EAAE;IACxB,IAAMqB,kBAAkB,GAAGpC,UAAU,CACnC,kBAAkB,EAClBe,SAAS,KAAK,MAAM,IAAI,yBAAyB,CAClD;IACDoB,gBAAgB,GACdR,YAAY,KAAK,MAAM,GACrB,oBAAC,OAAO;MAAC,SAAS,EAAES,kBAAmB;MAAC,IAAI,EAAE;IAAG,EAAG,GAEpD,oBAAC,SAAS;MAAC,SAAS,EAAEA;IAAmB,EAC1C;EACL;EAEA,OACE,4CACMb,SAAS;IACb,QAAQ,EAAED,QAAS;IACnB,GAAG,EAAEN,UAAW;IAChB,SAAS,EAAEhB,UAAU,CACnB,OAAO,EACP0B,QAAQ,KAAK3B,GAAG,IAAI,YAAY,EAChC;IAAA,uBACgBoB,KAAK,oBACXQ,YAAY,4BACJT,OAAO;EACzB,IAEF;IAAK,SAAS,EAAE,CAAE,cAAc,EAAEE,cAAc,CAAE,CAACiB,IAAI,CAAC,GAAG;EAAE,GAC1DzB,MAAM,EACNE,QAAQ,EACRV,YAAY,CAACS,WAAW,CAAC,IACxB,oBAAC,OAAO;IAAC,SAAS,EAAC;EAAoB,GAAEA,WAAW,CACrD,CACG,EACLsB,gBAAgB,CACT;AAEd,CAAC;;AAED;AACA;AACA;AACA,OAAO,IAAMG,KAAK,GAAG/B,cAAc,CAACI,cAAc,EAAE;EAAEQ,KAAK,EAAE;AAAK,CAAC,CAAC;AAEpEmB,KAAK,CAACC,WAAW,GAAG,OAAO"}