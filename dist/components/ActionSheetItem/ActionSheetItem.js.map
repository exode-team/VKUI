{"version":3,"sources":["../../../src/components/ActionSheetItem/ActionSheetItem.tsx"],"names":["React","classNames","Tappable","usePlatform","hasReactNode","noop","Platform","Subhead","Text","Icon24CheckCircleOn","ActionSheetContext","withAdaptivity","ActionSheetItemComponent","children","autoclose","mode","meta","subtitle","before","selectable","value","name","checked","defaultChecked","onChange","onClick","sizeY","onImmediateClick","multiline","restProps","platform","useContext","onItemClick","isDesktop","Component","href","isRich","isCentered","IOS","Boolean","undefined","disabled","ActionSheetItem"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Tappable } from \"../Tappable/Tappable\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { hasReactNode, noop } from \"../../lib/utils\";\nimport { Platform } from \"../../lib/platform\";\nimport { Subhead } from \"../Typography/Subhead/Subhead\";\nimport { Text } from \"../Typography/Text/Text\";\nimport { Icon24CheckCircleOn } from \"@vkontakte/icons\";\nimport {\n  ActionSheetContext,\n  ActionSheetContextType,\n} from \"../ActionSheet/ActionSheetContext\";\nimport { AdaptivityProps, withAdaptivity } from \"../../hoc/withAdaptivity\";\nimport \"./ActionSheetItem.css\";\n\nexport interface ActionSheetItemProps\n  extends React.HTMLAttributes<HTMLElement>,\n    React.AnchorHTMLAttributes<HTMLElement>,\n    Pick<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      \"name\" | \"checked\" | \"value\"\n    >,\n    AdaptivityProps {\n  mode?: \"default\" | \"destructive\" | \"cancel\";\n  before?: React.ReactNode;\n  meta?: React.ReactNode;\n  subtitle?: React.ReactNode;\n  autoclose?: boolean;\n  selectable?: boolean;\n  disabled?: boolean;\n  /**\n   * Все текстовые элементы при необходимости занимают несколько строк\n   */\n  multiline?: boolean;\n  /**\n   * Если autoclose === true, onClick будет вызван после завершения анимации скрытия и после вызова onClose.\n   * Из этого следует, что в объекте события значения полей типа `currentTarget` будут не определены.\n   * Если вам нужен объект события именно на момент клика, используйте `onImmediateClick`.\n   */\n  onClick?: React.MouseEventHandler<HTMLElement>;\n  onImmediateClick?: React.MouseEventHandler<HTMLElement>;\n}\n\nconst ActionSheetItemComponent = ({\n  children,\n  autoclose,\n  mode = \"default\",\n  meta,\n  subtitle,\n  before,\n  selectable,\n  value,\n  name,\n  checked,\n  defaultChecked,\n  onChange,\n  onClick,\n  sizeY,\n  onImmediateClick,\n  multiline = false,\n  ...restProps\n}: ActionSheetItemProps) => {\n  const platform = usePlatform();\n  const { onItemClick = () => noop, isDesktop } =\n    React.useContext<ActionSheetContextType<HTMLElement>>(ActionSheetContext);\n\n  let Component: React.ElementType = restProps.href ? \"a\" : \"div\";\n\n  if (selectable) {\n    Component = \"label\";\n  }\n\n  const isRich = hasReactNode(subtitle) || hasReactNode(meta) || selectable;\n  const isCentered =\n    !isRich && !hasReactNode(before) && platform === Platform.IOS;\n\n  return (\n    <Tappable\n      {...restProps}\n      onClick={\n        selectable\n          ? onClick\n          : onItemClick(onClick, onImmediateClick, Boolean(autoclose))\n      }\n      activeMode={\n        platform === Platform.IOS ? \"ActionSheetItem--active\" : undefined\n      }\n      vkuiClass={classNames(\n        \"ActionSheetItem\",\n        platform === Platform.IOS && \"ActionSheetItem--ios\",\n        `ActionSheetItem--${mode}`,\n        `ActionSheetItem--sizeY-${sizeY}`,\n        isRich && \"ActionSheetItem--rich\",\n        isDesktop && \"ActionSheetItem--desktop\"\n      )}\n      Component={Component}\n    >\n      {hasReactNode(before) && (\n        <div vkuiClass=\"ActionSheetItem__before\">{before}</div>\n      )}\n      <div\n        vkuiClass={classNames(\n          \"ActionSheetItem__container\",\n          !multiline && \"ActionSheetItem--ellipsis\"\n        )}\n      >\n        <div\n          vkuiClass={classNames(\n            \"ActionSheetItem__content\",\n            isCentered && \"ActionSheetItem--centered\"\n          )}\n        >\n          <Text\n            weight={mode === \"cancel\" ? \"2\" : undefined}\n            vkuiClass=\"ActionSheetItem__children\"\n          >\n            {children}\n          </Text>\n          {hasReactNode(meta) && (\n            <Text vkuiClass=\"ActionSheetItem__meta\">{meta}</Text>\n          )}\n        </div>\n        {hasReactNode(subtitle) && (\n          <Subhead vkuiClass=\"ActionSheetItem__subtitle\">{subtitle}</Subhead>\n        )}\n      </div>\n      {selectable && (\n        <div vkuiClass=\"ActionSheetItem__after\">\n          <input\n            type=\"radio\"\n            vkuiClass=\"ActionSheetItem__radio\"\n            name={name}\n            value={value}\n            onChange={onChange}\n            onClick={onItemClick(noop, noop, Boolean(autoclose))}\n            defaultChecked={defaultChecked}\n            checked={checked}\n            disabled={restProps.disabled}\n          />\n          <div vkuiClass=\"ActionSheetItem__marker\">\n            <Icon24CheckCircleOn />\n          </div>\n        </div>\n      )}\n    </Tappable>\n  );\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ActionSheetItem\n */\nexport const ActionSheetItem = withAdaptivity(ActionSheetItemComponent, {\n  sizeY: true,\n});\n"],"file":"ActionSheetItem.js"}