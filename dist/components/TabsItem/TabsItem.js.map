{"version":3,"file":"TabsItem.js","names":["React","Tappable","classNames","IOS","VKCOM","usePlatform","useAdaptivity","TabsModeContext","Headline","Subhead","warnOnce","warn","TabsItem","before","children","status","after","selected","role","tabIndexProp","tabIndex","restProps","platform","sizeY","useContext","mode","withGaps","statusComponent","isTabFlow","process","env","NODE_ENV","undefined"],"sources":["../../../src/components/TabsItem/TabsItem.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Tappable } from \"../Tappable/Tappable\";\nimport { classNames } from \"../../lib/classNames\";\nimport { IOS, VKCOM } from \"../../lib/platform\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { TabsModeContext, TabsContextProps } from \"../Tabs/Tabs\";\nimport { Headline } from \"../Typography/Headline/Headline\";\nimport { Subhead } from \"../Typography/Subhead/Subhead\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport \"./TabsItem.css\";\n\nexport interface TabsItemProps extends React.HTMLAttributes<HTMLElement> {\n  /**\n   * Добавляет иконку слева.\n   *\n   * - Для `mode=\"default\"` используйте иконки размером 24.\n   * - Для всех остальных `mode` используйте иконки размером 20.\n   */\n  before?: React.ReactNode;\n  /**\n   * Добавляет элемент слева от `after`.\n   *\n   * - `React.ReactElement` – либо [`Badge`](https://vkcom.github.io/VKUI/#/Badge) с параметром `mode=\"prominent\"`.\n   *   либо [`Counter`](https://vkcom.github.io/VKUI/#/Counter) с параметрами `mode=\"prominent\" size=\"s\"`.\n   * - `number` – для показа текстового блока с переданным числом.\n   */\n  status?: React.ReactElement | number;\n  /**\n   * Добавляет иконку справа.\n   *\n   * Например, `<Icon16Dropdown />`\n   */\n  after?: React.ReactNode;\n  selected?: boolean;\n  disabled?: boolean;\n}\n\nconst warn = warnOnce(\"TabsItem\");\n\n/**\n * @see https://vkcom.github.io/VKUI/#/TabsItem\n */\nexport const TabsItem = ({\n  before,\n  children,\n  status,\n  after,\n  selected = false,\n  role = \"tab\",\n  tabIndex: tabIndexProp,\n  ...restProps\n}: TabsItemProps) => {\n  const platform = usePlatform();\n  const { sizeY } = useAdaptivity();\n  const { mode, withGaps }: TabsContextProps =\n    React.useContext(TabsModeContext);\n  let statusComponent = null;\n\n  const isTabFlow = role === \"tab\";\n\n  if (status) {\n    statusComponent =\n      typeof status === \"number\" ? (\n        <Subhead\n          Component=\"span\"\n          vkuiClass=\"TabsItem__status TabsItem__status--count\"\n          weight=\"2\"\n        >\n          {status}\n        </Subhead>\n      ) : (\n        <span vkuiClass=\"TabsItem__status\">{status}</span>\n      );\n  }\n\n  if (process.env.NODE_ENV === \"development\" && isTabFlow) {\n    if (!restProps[\"aria-controls\"]) {\n      warn(`Передайте в \"aria-controls\" id контролируемого блока`, \"warn\");\n    } else if (!restProps[\"id\"]) {\n      warn(\n        `Передайте \"id\" компоненту для использования в \"aria-labelledby\" контролируемого блока`,\n        \"warn\"\n      );\n    }\n  }\n\n  let tabIndex = tabIndexProp;\n  if (isTabFlow && tabIndex === undefined) {\n    tabIndex = selected ? 0 : -1;\n  }\n\n  return (\n    <Tappable\n      {...restProps}\n      vkuiClass={classNames(\n        \"TabsItem\",\n        (platform === IOS || platform === VKCOM) && `TabsItem--${platform}`,\n        mode && `TabsItem--${mode}`,\n        selected && \"TabsItem--selected\",\n        // TODO v5.0.0 новая адаптивность\n        sizeY && `TabsItem--sizeY-${sizeY}`,\n        withGaps && \"TabsItem--withGaps\"\n      )}\n      hoverMode=\"TabsItem--hover\"\n      activeMode=\"TabsItem--active\"\n      focusVisibleMode={mode === \"segmented\" ? \"outside\" : \"inside\"}\n      hasActive={mode === \"segmented\"}\n      role={role}\n      aria-selected={selected}\n      tabIndex={tabIndex}\n    >\n      {before && <div vkuiClass=\"TabsItem__before\">{before}</div>}\n      <Headline\n        Component=\"span\"\n        vkuiClass=\"TabsItem__label\"\n        level={mode === \"default\" ? \"1\" : \"2\"}\n        weight=\"2\"\n      >\n        {children}\n      </Headline>\n      {statusComponent}\n      {after && <div vkuiClass=\"TabsItem__after\">{after}</div>}\n      {mode === \"default\" && (\n        <div\n          vkuiClass=\"TabsItem__underline\"\n          aria-hidden\n          data-selected={selected}\n        />\n      )}\n    </Tappable>\n  );\n};\n"],"mappings":"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"}