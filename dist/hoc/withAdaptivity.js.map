{"version":3,"file":"withAdaptivity.js","names":["React","AdaptivityContext","SizeType","ViewHeight","ViewWidth","withAdaptivity","TargetComponent","config","AdaptivityConsumer","props","context","useContext","update","sizeX","sizeY","viewWidth","viewHeight","hasMouse","deviceHasHover","adaptivityProps","undefined","target"],"sources":["../../src/hoc/withAdaptivity.tsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  AdaptivityContext,\n  SizeType,\n  ViewHeight,\n  ViewWidth,\n  AdaptivityContextInterface,\n  AdaptivityProps,\n  SizeProps,\n} from \"../components/AdaptivityProvider/AdaptivityContext\";\n\nexport { SizeType, ViewWidth, ViewHeight };\nexport type { AdaptivityProps };\n\ninterface Config {\n  sizeX?: boolean;\n  sizeY?: boolean;\n  viewWidth?: boolean;\n  viewHeight?: boolean;\n  hasMouse?: boolean;\n  deviceHasHover?: boolean;\n}\n\nexport function withAdaptivity<T extends AdaptivityProps>(\n  TargetComponent: React.ComponentType<T>,\n  config: Config\n): React.FC<Omit<T, keyof AdaptivityContextInterface> & SizeProps> {\n  const AdaptivityConsumer = (\n    props: Omit<T, keyof AdaptivityContextInterface> & SizeProps\n  ) => {\n    const context = React.useContext(AdaptivityContext);\n    let update = false;\n\n    if (props.sizeX || props.sizeY) {\n      update = true;\n    }\n\n    const sizeX = props.sizeX || context.sizeX;\n    const sizeY = props.sizeY || context.sizeY;\n    const viewWidth = context.viewWidth;\n    const viewHeight = context.viewHeight;\n    const hasMouse = context.hasMouse;\n    const deviceHasHover = context.deviceHasHover;\n\n    const adaptivityProps: {\n      sizeX?: SizeType;\n      sizeY?: SizeType;\n      viewWidth?: ViewWidth;\n      viewHeight?: ViewHeight;\n      hasMouse?: boolean;\n      deviceHasHover?: boolean;\n    } = {};\n\n    config.sizeX ? (adaptivityProps.sizeX = sizeX) : undefined;\n    config.sizeY ? (adaptivityProps.sizeY = sizeY) : undefined;\n    config.viewWidth ? (adaptivityProps.viewWidth = viewWidth) : undefined;\n    config.viewHeight ? (adaptivityProps.viewHeight = viewHeight) : undefined;\n    config.hasMouse ? (adaptivityProps.hasMouse = hasMouse) : undefined;\n    config.deviceHasHover\n      ? (adaptivityProps.deviceHasHover = deviceHasHover)\n      : undefined;\n\n    const target = <TargetComponent {...(props as T)} {...adaptivityProps} />;\n\n    if (update) {\n      return (\n        <AdaptivityContext.Provider\n          value={{\n            sizeX,\n            sizeY,\n            viewWidth,\n            viewHeight,\n            hasMouse,\n            deviceHasHover,\n          }}\n        >\n          {target}\n        </AdaptivityContext.Provider>\n      );\n    }\n\n    return target;\n  };\n\n  return AdaptivityConsumer;\n}\n"],"mappings":";;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SACEC,iBAAiB,EACjBC,QAAQ,EACRC,UAAU,EACVC,SAAS;AAMX,SAASF,QAAQ,EAAEE,SAAS,EAAED,UAAU;AAYxC,OAAO,SAASE,cAAc,CAC5BC,eAAuC,EACvCC,MAAc,EACmD;EACjE,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,CACtBC,KAA4D,EACzD;IACH,IAAMC,OAAO,GAAGV,KAAK,CAACW,UAAU,CAACV,iBAAiB,CAAC;IACnD,IAAIW,MAAM,GAAG,KAAK;IAElB,IAAIH,KAAK,CAACI,KAAK,IAAIJ,KAAK,CAACK,KAAK,EAAE;MAC9BF,MAAM,GAAG,IAAI;IACf;IAEA,IAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAK,IAAIH,OAAO,CAACG,KAAK;IAC1C,IAAMC,KAAK,GAAGL,KAAK,CAACK,KAAK,IAAIJ,OAAO,CAACI,KAAK;IAC1C,IAAMC,SAAS,GAAGL,OAAO,CAACK,SAAS;IACnC,IAAMC,UAAU,GAAGN,OAAO,CAACM,UAAU;IACrC,IAAMC,QAAQ,GAAGP,OAAO,CAACO,QAAQ;IACjC,IAAMC,cAAc,GAAGR,OAAO,CAACQ,cAAc;IAE7C,IAAMC,eAOL,GAAG,CAAC,CAAC;IAENZ,MAAM,CAACM,KAAK,GAAIM,eAAe,CAACN,KAAK,GAAGA,KAAK,GAAIO,SAAS;IAC1Db,MAAM,CAACO,KAAK,GAAIK,eAAe,CAACL,KAAK,GAAGA,KAAK,GAAIM,SAAS;IAC1Db,MAAM,CAACQ,SAAS,GAAII,eAAe,CAACJ,SAAS,GAAGA,SAAS,GAAIK,SAAS;IACtEb,MAAM,CAACS,UAAU,GAAIG,eAAe,CAACH,UAAU,GAAGA,UAAU,GAAII,SAAS;IACzEb,MAAM,CAACU,QAAQ,GAAIE,eAAe,CAACF,QAAQ,GAAGA,QAAQ,GAAIG,SAAS;IACnEb,MAAM,CAACW,cAAc,GAChBC,eAAe,CAACD,cAAc,GAAGA,cAAc,GAChDE,SAAS;IAEb,IAAMC,MAAM,GAAG,oBAAC,eAAe,eAAMZ,KAAK,EAAYU,eAAe,EAAI;IAEzE,IAAIP,MAAM,EAAE;MACV,OACE,oBAAC,iBAAiB,CAAC,QAAQ;QACzB,KAAK,EAAE;UACLC,KAAK,EAALA,KAAK;UACLC,KAAK,EAALA,KAAK;UACLC,SAAS,EAATA,SAAS;UACTC,UAAU,EAAVA,UAAU;UACVC,QAAQ,EAARA,QAAQ;UACRC,cAAc,EAAdA;QACF;MAAE,GAEDG,MAAM,CACoB;IAEjC;IAEA,OAAOA,MAAM;EACf,CAAC;EAED,OAAOb,kBAAkB;AAC3B"}